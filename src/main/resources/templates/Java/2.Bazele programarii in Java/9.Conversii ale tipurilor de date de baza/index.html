<!doctype html>
<html lang="ro" xmlns:th="http://www.w3.org/1999/xhtml">
 <head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4253419731329045" crossorigin="anonymous"></script>
  <link rel="canonical" th:href="${canonicalUrl}">
  <link rel="icon" type="image/png" href="/nume-aplicatie/images/favicon.png">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7Q2536ZKL2"></script>
  <script>
      window.dataLayer = window.dataLayer || [];
      window.gtag = function () { dataLayer.push(arguments); };
      gtag('consent', 'default', {
        'wait_for_update': 500,
        'region': ['RO'],
        'ad_storage': 'denied',
        'analytics_storage': 'denied',
        'ad_user_data': 'denied',
        'ad_personalization': 'denied'
      });
      gtag('js', new Date());
      gtag('config', 'G-7Q2536ZKL2');
    </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:text="${lesson.title}">Lesson</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}">
  <style>body { background: #ffffff; }</style>
 </head>
 <body th:with="activeTopic='Java', activeChapter='2.Bazele programarii in Java', activeLesson='9.Conversii ale tipurilor de date de baza'">
  <button class="mobile-sidebar-toggle" onclick="toggleMobileSidebar()">☰</button>
  <div th:replace="~{fragments/nav :: nav}"></div>
  <div class="top-nav">
   <th:block th:each="topic : ${topics}"> <a th:href="@{'/lectii/topic/' + ${topic.id}}" th:text="${topic.name}" th:classappend="${topic.id} == ${activeTopicId} ? 'active' : ''"> </a> </th:block>
  </div>
  <div class="layout">
   <div class="mobile-sidebar" id="mobileSidebar">
    <button class="close-btn" onclick="toggleSidebar()">✖</button>
    <ul class="chapter-list">
     <th:block th:each="chapter : ${chapters}">
      <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
       <div class="chapter-title" onclick="toggleChapter(this)">
        <strong th:text="${chapter.title}"></strong> <span class="arrow">▼</span>
       </div>
       <ul class="lesson-list">
        <th:block th:each="lesson : ${chapter.lessons}">
         <li><a th:href="@{'/lectii/' +
    ${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
    ${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
    ${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}" th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
        </th:block>
       </ul>
      </li>
     </th:block>
    </ul>
   </div>
   <aside class="sidebar">
    <ul class="sidebar-list">
     <th:block th:each="chapter : ${chapters}">
      <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
       <div class="chapter-toggle" onclick="toggleLessons(this)">
        <span th:text="${chapter.title}">Chapter</span>
       </div>
       <ul class="lesson-list hidden">
        <th:block th:each="lesson : ${chapter.lessons}">
         <li><a th:href="@{'/lectii/' +
    ${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
    ${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
    ${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}" th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
        </th:block>
       </ul>
      </li>
     </th:block>
    </ul>
   </aside>
   <main class="content">
    <div class="document-container">
     <h1 class="main-title">Conversii ale tipurilor de date de bază</h1>
     <p class="paragraph">Fiecare tip de date de bază ocupă o anumită cantitate de memorie, ceea ce impune restricții asupra operațiilor care implică diverse tipuri de date. Să luăm următorul exemplu:</p>
     <div class="code-inline">
      <pre><code>int&nbsp;a&nbsp;=&nbsp;4;<br>byte&nbsp;b&nbsp;=&nbsp;a;&nbsp;//&nbsp;!&nbsp;Eroare</code></pre>
     </div>
     <p class="paragraph">În acest cod ne confruntăm cu o eroare. Deși tipul byte și tipul int reprezintă ambele numere întregi, iar valoarea variabilei a, care este atribuită variabilei de tip byte, se încadrează în intervalul valorilor pentru tipul byte (de la -128 la 127), întâlnim totuși o eroare la compilare. Asta deoarece încercăm să atribuim date care ocupă 4 octeți unei variabile care ocupă doar 1 octet.</p>
     <p class="paragraph">Cu toate acestea, uneori poate fi necesar ca o astfel de conversie să fie efectuată. În acest caz, trebuie să utilizăm operația de conversie a tipurilor (operația ()):</p>
     <div class="code-inline">
      <pre><code>int&nbsp;a&nbsp;=&nbsp;4;<br>byte&nbsp;b&nbsp;=&nbsp;(byte)&nbsp;a;&nbsp;&nbsp;//&nbsp;conversie&nbsp;de&nbsp;la&nbsp;tipul&nbsp;int&nbsp;la&nbsp;tipul&nbsp;byte<br>System.out.println(b);&nbsp;//&nbsp;4</code></pre>
     </div>
     <p class="paragraph">Operația de conversie presupune specificarea în paranteze a tipului la care vrem să convertim valoarea. De exemplu, în cazul operației (byte) a, se face conversia datelor de tip int în tip byte. În final, obținem o valoare de tip byte.</p>
     <script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
     <h2 class="subtitle">Conversii explicite și implicite</h2>
     <p class="paragraph">Când într-o operație sunt implicate date de tipuri diferite, nu este întotdeauna necesar să folosim operația de conversie a tipurilor. Unele conversii se efectuează implicit, automat.</p>
     <h2 class="subtitle">Conversii automate</h2>
     <div class="image-container">
      <img th:src="@{/images/Java/2.Bazele%20programarii%20in%20Java/9.Conversii%20ale%20tipurilor%20de%20date%20de%20baza/images/image1.png}" alt="" class="responsive-image">
     </div>
     <p class="paragraph">Săgețile din diagramă indică ce conversii de tipuri pot fi efectuate automat. Săgețile punctate indică conversiile automate cu pierdere de precizie.</p>
     <p class="paragraph">Conversiile de tipuri în limbajul Java se fac automat în cazul conversiilor de extindere (widening), care extind reprezentarea obiectului în memorie. De exemplu:</p>
     <div class="code-inline">
      <pre><code>byte&nbsp;b&nbsp;=&nbsp;7;<br>int&nbsp;d&nbsp;=&nbsp;b;&nbsp;&nbsp;//&nbsp;conversie&nbsp;de&nbsp;la&nbsp;byte&nbsp;la&nbsp;int</code></pre>
     </div>
     <p class="paragraph">În acest caz, valoarea de tip byte, care ocupă 1 octet în memorie, este extinsă la tipul int, care ocupă 4 octeți.</p>
     <p class="paragraph">Conversiile automate de extindere sunt reprezentate de următoarele lanțuri:</p>
     <ul class="enumeration">
      <li>byte -&gt; short -&gt; int -&gt; long</li>
      <li>int -&gt; double</li>
      <li>short -&gt; float -&gt; double</li>
      <li>char -&gt; int</li>
     </ul>
     <h2 class="subtitle">Conversii automate cu pierdere de precizie</h2>
     <p class="paragraph">Unele conversii pot fi efectuate automat între tipuri de date cu aceeași lățime sau chiar de la tipuri de date cu o lățime mai mare la una mai mică. Acestea includ lanțurile de conversii: int -&gt; float, long -&gt; float și long -&gt; double. Aceste conversii nu generează erori, dar pot duce la pierderi de informații.</p>
     <p class="paragraph">De exemplu:</p>
     <div class="code-inline">
      <pre><code>int&nbsp;a&nbsp;=&nbsp;2147483647;<br>float&nbsp;b&nbsp;=&nbsp;a;&nbsp;&nbsp;//&nbsp;conversie&nbsp;de&nbsp;la&nbsp;int&nbsp;la&nbsp;float<br>System.out.println(b);&nbsp;&nbsp;//&nbsp;2.14748365E9</code></pre>
     </div>
     <h2 class="subtitle">Conversii explicite</h2>
     <p class="paragraph">În toate celelalte conversii ale tipurilor primitive, se folosește explicit operația de conversie a tipurilor. Acestea sunt de obicei conversii de îngustare (narrowing), de la tipuri cu o lățime mai mare la tipuri cu o lățime mai mică:</p>
     <div class="code-inline">
      <pre><code>long&nbsp;a&nbsp;=&nbsp;4;<br>int&nbsp;b&nbsp;=&nbsp;(int)&nbsp;a;</code></pre>
     </div>
     <h2 class="subtitle">Pierderea de date la conversie</h2>
     <p class="paragraph">La conversiile explicite putem întâmpina pierderi de date. De exemplu, în următorul cod nu vom avea nicio problemă:</p>
     <div class="code-inline">
      <pre><code>int&nbsp;a&nbsp;=&nbsp;5;<br>byte&nbsp;b&nbsp;=&nbsp;(byte)&nbsp;a;<br>System.out.println(b);&nbsp;&nbsp;//&nbsp;5</code></pre>
     </div>
     <p class="paragraph">Numărul 5 se încadrează în intervalul valorilor de tip byte, deci după conversie, variabila b va fi egală cu 5. Dar ce se întâmplă în cazul următor:</p>
     <div class="code-inline">
      <pre><code>int&nbsp;a&nbsp;=&nbsp;258;<br>byte&nbsp;b&nbsp;=&nbsp;(byte)&nbsp;a;<br>System.out.println(b);&nbsp;&nbsp;//&nbsp;2</code></pre>
     </div>
     <p class="paragraph">Rezultatul va fi 2. În acest caz, numărul 258 este în afara intervalului pentru tipul byte (de la -128 la 127), deci va avea loc o trunchiere a valorii. De ce rezultatul este 2?</p>
     <p class="paragraph">Numărul a, care este egal cu 258, în sistem binar este reprezentat astfel: 00000000 00000000 00000001 00000010. Valorile de tip byte ocupă în memorie doar 8 biți. Prin urmare, reprezentarea binară a numărului int este trunchiată la 8 biți din dreapta, adică 00000010, care în sistem zecimal este 2.</p>
     <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-4253419731329045" data-ad-slot="8453761934"></ins>
     <script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
     <h2 class="subtitle">Trunchierea numerelor raționale la întregi</h2>
     <p class="paragraph">La conversia valorilor cu virgulă mobilă în valori întregi, partea zecimală este trunchiată:</p>
     <div class="code-inline">
      <pre><code>double&nbsp;a&nbsp;=&nbsp;56.9898;<br>int&nbsp;b&nbsp;=&nbsp;(int)&nbsp;a;</code></pre>
     </div>
     <p class="paragraph">Aici valoarea lui b va fi 56, chiar dacă 57 ar fi mai aproape de 56.9898. Pentru a evita astfel de situații, putem folosi funcția de rotunjire din biblioteca matematică Java:</p>
     <div class="code-inline">
      <pre><code>double&nbsp;a&nbsp;=&nbsp;56.9898;<br>int&nbsp;b&nbsp;=&nbsp;(int)&nbsp;Math.round(a);</code></pre>
     </div>
     <h2 class="subtitle">Conversii în timpul operațiilor</h2>
     <p class="paragraph">Sunt frecvente situațiile în care trebuie să aplicăm diverse operații, cum ar fi adunarea sau înmulțirea, asupra valorilor de tipuri diferite. Și aici se aplică câteva reguli:</p>
     <ul class="enumeration">
      <li>dacă unul dintre operanzi este de tip double, atunci și celălalt operand este convertit la double</li>
      <li>dacă primul caz nu se aplică, iar unul dintre operanzi este de tip float, atunci și celălalt operand este convertit la float</li>
      <li>dacă nici una dintre situațiile anterioare nu se aplică, iar unul dintre operanzi este de tip long, atunci și celălalt operand este convertit la long</li>
      <li>în caz contrar, toți operanzii sunt convertiți la tipul int</li>
     </ul>
     <p class="paragraph">Exemple de conversii:</p>
     <div class="code-inline">
      <pre><code>int&nbsp;a&nbsp;=&nbsp;3;<br>double&nbsp;b&nbsp;=&nbsp;4.6;<br>double&nbsp;c&nbsp;=&nbsp;a&nbsp;+&nbsp;b;</code></pre>
     </div>
     <p class="paragraph">Deoarece în operație este implicată o valoare de tip double, celălalt operand este convertit la double, iar suma celor două valori a + b va fi de tip double.</p>
     <p class="paragraph">Alt exemplu:</p>
     <div class="code-inline">
      <pre><code>byte&nbsp;a&nbsp;=&nbsp;3;<br>short&nbsp;b&nbsp;=&nbsp;4;<br>byte&nbsp;c&nbsp;=&nbsp;(byte)&nbsp;(a&nbsp;+&nbsp;b);</code></pre>
     </div>
     <p class="paragraph">Două variabile de tip byte și short (nu double, float sau long), deci la adunare sunt convertite la tipul int, iar suma lor a + b va reprezenta o valoare de tip int. Prin urmare, dacă dorim să atribuim această sumă unei variabile de tip byte, trebuie din nou să facem conversia la byte.</p>
     <p class="paragraph">Dacă în operații sunt implicate date de tip char, ele sunt convertite la int:</p>
     <div class="code-inline">
      <pre><code>int&nbsp;d&nbsp;=&nbsp;'a'&nbsp;+&nbsp;5;<br>System.out.println(d);&nbsp;&nbsp;//&nbsp;102</code></pre>
     </div>
    </div>
    <div class="lesson-navigation">
     <th:block th:if="${previousLesson != null}"> <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.title, ' ', '-'))} }" class="nav-button">← Lecția anterioară</a> </th:block> <th:block th:if="${nextLesson != null}"> <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.title, ' ', '-'))} }" class="nav-button">Lecția următoare →</a> </th:block>
    </div>
    <div class="discord-banner-section">
     <div class="discord-banner-container">
      <a href="https://discord.com/channels/1168639076098920578/1168646361491710082" target="_blank"> <img th:src="@{/images/java-discord.png}" alt="Discord Banner" class="discord-banner-image"> </a>
     </div>
    </div>
   </main>
   <aside class="ad-section">
    <div class="ad-box ad-desktop">
     <ins class="adsbygoogle" style="display:inline-block;width:120px;height:728px" data-ad-client="ca-pub-4253419731329045" data-ad-slot="7123454389"></ins>
    </div>
    <div class="ad-box ad-mobile">
     <ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-4253419731329045" data-ad-slot="7123454389"></ins>
    </div>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
   </aside>
  </div>
  <div th:replace="~{fragments/footer :: footer}"></div>
  <script th:src="@{/js/script.js}" defer></script>
 </body>
</html>