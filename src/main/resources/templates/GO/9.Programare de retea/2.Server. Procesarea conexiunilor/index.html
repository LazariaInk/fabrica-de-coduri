<!doctype html>
<html lang="ro" xmlns:th="http://www.w3.org/1999/xhtml">
 <head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4253419731329045" crossorigin="anonymous"></script>
  <link rel="canonical" th:href="${canonicalUrl}">
  <link rel="icon" type="image/png" href="/nume-aplicatie/images/favicon.png">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7Q2536ZKL2"></script>
  <script>
        window.dataLayer = window.dataLayer || [];
        window.gtag = function () { dataLayer.push(arguments); };
        gtag('consent', 'default', {
            'wait_for_update': 500,
            'region': ['RO'],
            'ad_storage': 'denied',
            'analytics_storage': 'denied',
            'ad_user_data': 'denied',
            'ad_personalization': 'denied'
        });
        gtag('js', new Date());
        gtag('config', 'G-7Q2536ZKL2');
    </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:text="${lesson.title}">Lesson</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}">
  <style>
        body {
            background: #ffffff;
        }
    </style>
 </head>
 <body th:with="activeTopic='C-sharp', activeChapter='10.Colectii', activeLesson='1.Lista List_T_'">
  <button class="mobile-sidebar-toggle" onclick="toggleMobileSidebar()">☰</button>
  <div th:replace="~{fragments/nav :: nav}"></div>
  <div class="top-nav">
   <th:block th:each="topic : ${topics}"> <a th:href="@{'/lectii/topic/' + ${topic.id}}" th:text="${topic.name}" th:classappend="${topic.id} == ${activeTopicId} ? 'active' : ''"> </a> </th:block>
  </div>
  <div class="layout">
   <div class="mobile-sidebar" id="mobileSidebar">
    <button class="close-btn" onclick="toggleSidebar()">✖</button>
    <ul class="chapter-list">
     <th:block th:each="chapter : ${chapters}">
      <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
       <div class="chapter-title" onclick="toggleChapter(this)">
        <strong th:text="${chapter.title}"></strong> <span class="arrow">▼</span>
       </div>
       <ul class="lesson-list">
        <th:block th:each="lesson : ${chapter.lessons}">
         <li><a th:href="@{'/lectii/' +
${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}" th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
        </th:block>
       </ul>
      </li>
     </th:block>
    </ul>
   </div>
   <aside class="sidebar">
    <ul class="sidebar-list">
     <th:block th:each="chapter : ${chapters}">
      <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
       <div class="chapter-toggle" onclick="toggleLessons(this)">
        <span th:text="${chapter.title}">Chapter</span>
       </div>
       <ul class="lesson-list hidden">
        <th:block th:each="lesson : ${chapter.lessons}">
         <li><a th:href="@{'/lectii/' +
${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}" th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
        </th:block>
       </ul>
      </li>
     </th:block>
    </ul>
   </aside>
   <main class="content">
    <div class="document-container">
     <h1 class="main-title">Server. Procesarea conexiunilor</h1>
     <p class="paragraph">Pentru ascultarea și acceptarea cererilor de intrare, în pachetul net este definită funcția net.Listen:</p>
     <div class="code-inline">
      <pre><code>func&nbsp;Listen(network,&nbsp;laddr&nbsp;string)&nbsp;(net.Listener,&nbsp;error)</code></pre>
     </div>
     <p class="paragraph"></p>
     <p class="paragraph">Funcția primește doi parametri:</p>
     <script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
     <ul class="enumeration">
      <li>network – protocolul prin care aplicația va primi cereri,</li>
      <li>laddr – adresa locală la care va fi pornit serverul.</li>
     </ul>
     <p class="paragraph">Protocolul trebuie să fie unul dintre următoarele valori: "tcp", "tcp4", "tcp6", "unix", "unixpacket".</p>
     <p class="paragraph">Adresa locală poate conține doar un număr de port, de exemplu ":8080". În acest caz, aplicația va accepta conexiuni pe toate interfețele de rețea disponibile.</p>
     <p class="paragraph">În caz de succes, funcția returnează un obiect al interfeței net.Listener, care oferă funcționalitatea de a accepta conexiuni de intrare. În funcție de protocolul utilizat, obiectul returnat de tip Listener poate fi de tip net.TCPListener sau net.UnixListener (ambele implementează interfața net.Listener).</p>
     <p class="paragraph">Principalele metode oferite de net.Listener sunt:</p>
     <ul class="enumeration">
      <li>Accept() – acceptă o conexiune de intrare,</li>
      <li>Close() – închide listenerul.</li>
     </ul>
     <div class="code-inline">
      <pre><code>package&nbsp;main<br>import&nbsp;(<br>&nbsp;&nbsp;&nbsp;&nbsp;"fmt"<br>&nbsp;&nbsp;&nbsp;&nbsp;"net"<br>)<br>func&nbsp;main()&nbsp;{&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;:=&nbsp;"Hello,&nbsp;I&nbsp;am&nbsp;fabricadecoduri&nbsp;server"&nbsp;&nbsp;&nbsp;//&nbsp;mesajul&nbsp;trimis<br>&nbsp;&nbsp;&nbsp;&nbsp;listener,&nbsp;err&nbsp;:=&nbsp;net.Listen("tcp",&nbsp;":4545")&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;err&nbsp;!=&nbsp;nil&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(err)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;defer&nbsp;listener.Close()&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println("Server&nbsp;is&nbsp;listening...")<br>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;{&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn,&nbsp;err&nbsp;:=&nbsp;listener.Accept()&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;err&nbsp;!=&nbsp;nil&nbsp;{&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(err)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.Write([]byte(message))&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.Close()&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br>}</code></pre>
     </div>
     <p class="paragraph">Mai întâi, prin apelul net.Listen("tcp", ":4545"), se stabilește ca serverul să asculte conexiunile pe portul 4545 folosind protocolul TCP. După executarea acestei funcții, serverul este lansat și pregătit să accepte conexiuni.</p>
     <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-4253419731329045" data-ad-slot="8453761934"></ins>
     <script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
     <p class="paragraph">Apoi, într-o buclă infinită for, se acceptă conexiunile de intrare folosind listener.Accept(). Această metodă returnează un obiect de tip net.Conn, care reprezintă clientul conectat. După aceea, putem procesa această conexiune în diverse moduri. De exemplu, putem trimite un mesaj clientului folosind metoda Write. Deoarece această metodă primește un slice de octeți, orice mesaj text trebuie convertit în acest format, astfel:</p>
     <div class="code-inline">
      <pre><code>conn.Write([]byte(message))</code></pre>
     </div>
     <p class="paragraph">Pentru a testa serverul, vom defini o altă aplicație – clientul:</p>
     <p class="paragraph">package main import ( "fmt" "os" "net" "io" ) func main() { conn, err := net.Dial("tcp", "127.0.0.1:4545") if err != nil { fmt.Println(err) return } defer conn.Close() io.Copy(os.Stdout, conn) fmt.Println("\nDone") }</p>
     <p class="paragraph">Deoarece serverul va fi pornit pe computerul local, pe portul 4545, clientul se va conecta la această adresă folosind:</p>
     <div class="code-inline">
      <pre><code>net.Dial("tcp",&nbsp;"127.0.0.1:4545")</code></pre>
     </div>
     <p class="paragraph">După conectare, va fi trimisă o solicitare către server, iar cu ajutorul apelului:</p>
     <div class="code-inline">
      <pre><code>io.Copy(os.Stdout,&nbsp;conn)</code></pre>
     </div>
     <p class="paragraph">răspunsul primit de la server va fi afișat în consolă.</p>
     <p class="paragraph">Mai întâi, pornim serverul. Pe Windows este posibil să apară o fereastră care solicită permisiunea de a permite accesul aplicației la rețea.</p>
     <p class="paragraph">După ce vom rula clientul și serverul, în consola clientului vom vedea mesajul de la server!</p>
    </div>
    <div class="lesson-navigation">
     <th:block th:if="${previousLesson != null}"> <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.title, ' ', '-'))} }" class="nav-button">← Lecția anterioară</a> </th:block> <th:block th:if="${nextLesson != null}"> <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.title, ' ', '-'))} }" class="nav-button">Lecția următoare →</a> </th:block>
    </div>
    <div class="discord-banner-section">
     <div class="discord-banner-container">
      <a href="https://discord.com/channels/1168639076098920578/1376930963379982376" target="_blank"> <img th:src="@{/images/go-discord.png}" alt="Discord Banner" class="discord-banner-image"> </a>
     </div>
    </div>
   </main>
   <aside class="ad-section">
    <div class="ad-box ad-desktop">
     <ins class="adsbygoogle" style="display:inline-block;width:120px;height:728px" data-ad-client="ca-pub-4253419731329045" data-ad-slot="7123454389"></ins>
    </div>
    <div class="ad-box ad-mobile">
     <ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-4253419731329045" data-ad-slot="7123454389"></ins>
    </div>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
   </aside>
  </div>
  <div th:replace="~{fragments/footer :: footer}"></div>
  <script th:src="@{/js/script.js}" defer></script>
 </body>
</html>