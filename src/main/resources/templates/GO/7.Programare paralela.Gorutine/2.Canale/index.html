<!doctype html>
<html lang="ro" xmlns:th="http://www.w3.org/1999/xhtml">
 <head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4253419731329045" crossorigin="anonymous"></script>
  <link rel="canonical" th:href="${canonicalUrl}">
  <link rel="icon" type="image/png" href="/nume-aplicatie/images/favicon.png">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7Q2536ZKL2"></script>
  <script>
        window.dataLayer = window.dataLayer || [];
        window.gtag = function () { dataLayer.push(arguments); };
        gtag('consent', 'default', {
            'wait_for_update': 500,
            'region': ['RO'],
            'ad_storage': 'denied',
            'analytics_storage': 'denied',
            'ad_user_data': 'denied',
            'ad_personalization': 'denied'
        });
        gtag('js', new Date());
        gtag('config', 'G-7Q2536ZKL2');
    </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:text="${lesson.title}">Lesson</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}">
  <style>
        body {
            background: #ffffff;
        }
    </style>
 </head>
 <body th:with="activeTopic='C-sharp', activeChapter='10.Colectii', activeLesson='1.Lista List_T_'">
  <button class="mobile-sidebar-toggle" onclick="toggleMobileSidebar()">☰</button>
  <div th:replace="~{fragments/nav :: nav}"></div>
  <div class="top-nav">
   <th:block th:each="topic : ${topics}"> <a th:href="@{'/lectii/topic/' + ${topic.id}}" th:text="${topic.name}" th:classappend="${topic.id} == ${activeTopicId} ? 'active' : ''"> </a> </th:block>
  </div>
  <div class="layout">
   <div class="mobile-sidebar" id="mobileSidebar">
    <button class="close-btn" onclick="toggleSidebar()">✖</button>
    <ul class="chapter-list">
     <th:block th:each="chapter : ${chapters}">
      <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
       <div class="chapter-title" onclick="toggleChapter(this)">
        <strong th:text="${chapter.title}"></strong> <span class="arrow">▼</span>
       </div>
       <ul class="lesson-list">
        <th:block th:each="lesson : ${chapter.lessons}">
         <li><a th:href="@{'/lectii/' +
${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}" th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
        </th:block>
       </ul>
      </li>
     </th:block>
    </ul>
   </div>
   <aside class="sidebar">
    <ul class="sidebar-list">
     <th:block th:each="chapter : ${chapters}">
      <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
       <div class="chapter-toggle" onclick="toggleLessons(this)">
        <span th:text="${chapter.title}">Chapter</span>
       </div>
       <ul class="lesson-list hidden">
        <th:block th:each="lesson : ${chapter.lessons}">
         <li><a th:href="@{'/lectii/' +
${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}" th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
        </th:block>
       </ul>
      </li>
     </th:block>
    </ul>
   </aside>
   <main class="content">
    <div class="document-container">
     <h1 class="main-title">Canale</h1>
     <p class="paragraph">Canalele (channels) reprezintă instrumente de comunicare între gorutine. Pentru a defini un canal se folosește cuvântul cheie chan:</p>
     <div class="code-inline">
      <pre><code>chan&nbsp;tip_element</code></pre>
     </div>
     <p class="paragraph">După cuvântul chan, se specifică tipul de date care va fi transmis prin canal. De exemplu:</p>
     <div class="code-inline">
      <pre><code>var&nbsp;intCh&nbsp;chan&nbsp;int</code></pre>
     </div>
     <p class="paragraph">Aici, variabila intCh reprezintă un canal care transmite date de tipul int.</p>
     <p class="paragraph">Pentru a trimite date într-un canal sau, dimpotrivă, pentru a le primi din canal, se folosește operația &lt;- (săgeata direcționată spre stânga). De exemplu, pentru a trimite date într-un canal:</p>
     <div class="code-inline">
      <pre><code>intCh&nbsp;&lt;-&nbsp;5</code></pre>
     </div>
     <p class="paragraph">În acest caz, numărul 5 este trimis în canal. Pentru a primi date din canal într-o variabilă:</p>
     <div class="code-inline">
      <pre><code>val&nbsp;:=&nbsp;&lt;-&nbsp;intCh</code></pre>
     </div>
     <p class="paragraph">Dacă anterior în canal a fost trimis numărul 5, atunci la executarea operației &lt;- intCh, vom primi acest număr în variabila val.</p>
     <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-4253419731329045" data-ad-slot="8453761934"></ins>
     <script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
     <p class="paragraph">De obicei, trimitătorul de date este o gorutină, iar receptorul este o altă gorutină.</p>
     <p class="paragraph">La definirea simplă a unei variabile canal, aceasta va avea valoarea nil, adică, practic, canalul nu este inițializat. Pentru inițializare se folosește funcția make(). În funcție de definirea capacității canalului, acesta poate fi un canal bufferizat sau unul nebufferizat.</p>
     <h2 class="subtitle">Canale nebufferizate</h2>
     <p class="paragraph">Pentru a crea un canal nebufferizat, se apelează funcția make() fără a specifica capacitatea canalului:</p>
     <script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
     <div class="code-inline">
      <pre><code>var&nbsp;intCh&nbsp;chan&nbsp;int&nbsp;=&nbsp;make(chan&nbsp;int)&nbsp;//&nbsp;canal&nbsp;pentru&nbsp;date&nbsp;de&nbsp;tipul&nbsp;int<br>strCh&nbsp;:=&nbsp;make(chan&nbsp;string)&nbsp;&nbsp;//&nbsp;canal&nbsp;pentru&nbsp;date&nbsp;de&nbsp;tipul&nbsp;string</code></pre>
     </div>
     <p class="paragraph">Dacă canalul este gol, gorutina receptor va fi blocată până când canalul va conține date. Când gorutina trimitătoare trimite date, gorutina receptor primește aceste date și își reia execuția.</p>
     <p class="paragraph">Gorutina trimitătoare poate trimite date doar într-un canal gol. Gorutina trimitătoare va fi blocată până când datele vor fi preluate din canal. De exemplu:</p>
     <div class="code-inline">
      <pre><code>package&nbsp;main<br>import&nbsp;"fmt"<br><br>func&nbsp;main()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;intCh&nbsp;:=&nbsp;make(chan&nbsp;int)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;go&nbsp;func(){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println("Gorutină&nbsp;începe")<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intCh&nbsp;&lt;-&nbsp;5&nbsp;//&nbsp;blocare&nbsp;până&nbsp;când&nbsp;datele&nbsp;vor&nbsp;fi&nbsp;preluate&nbsp;de&nbsp;funcția&nbsp;main<br>&nbsp;&nbsp;&nbsp;&nbsp;}()<br>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(&lt;-intCh)&nbsp;//&nbsp;primirea&nbsp;datelor&nbsp;din&nbsp;canal<br>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println("The&nbsp;End")<br>}</code></pre>
     </div>
     <p class="paragraph">Prin canalul nebufferizat intCh, gorutina definită prin funcția anonimă trimite numărul 5:</p>
     <div class="code-inline">
      <pre><code>intCh&nbsp;&lt;-&nbsp;5</code></pre>
     </div>
     <p class="paragraph">Iar funcția main primește acest număr:</p>
     <div class="code-inline">
      <pre><code>fmt.Println(&lt;-intCh)</code></pre>
     </div>
     <p class="paragraph">Fluxul de execuție al programului este următorul:</p>
     <ul class="enumeration">
      <li>Funcția main este lansată. Aceasta creează canalul intCh și pornește o gorutină sub formă de funcție anonimă</li>
      <li>Funcția main continuă să ruleze și este blocată pe linia fmt.Println(&lt;-intCh) până când datele sunt primite</li>
      <li>În paralel, gorutina anonimă se execută. La finalul execuției sale, aceasta trimite date prin canal: intCh &lt;- 5. Gorutina este blocată până când funcția main primește datele</li>
      <li>Funcția main primește datele trimise, se deblochează și continuă execuția</li>
     </ul>
     <p class="paragraph">În acest caz, gorutina este definită sub formă de funcție anonimă și, prin urmare, are acces la mediul său, inclusiv la variabila intCh. Dacă lucrăm cu funcții obișnuite, atunci obiectele canalelor trebuie transmise ca parametri:</p>
     <div class="code-inline">
      <pre><code>package&nbsp;main<br>import&nbsp;"fmt"<br><br>func&nbsp;main()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;intCh&nbsp;:=&nbsp;make(chan&nbsp;int)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;go&nbsp;factorial(5,&nbsp;intCh)&nbsp;&nbsp;//&nbsp;apelul&nbsp;gorutinei<br>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(&lt;-intCh)&nbsp;//&nbsp;primirea&nbsp;datelor&nbsp;din&nbsp;canal<br>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println("The&nbsp;End")<br>}<br><br>func&nbsp;factorial(n&nbsp;int,&nbsp;ch&nbsp;chan&nbsp;int){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;:=&nbsp;1<br>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;i&nbsp;:=&nbsp;1;&nbsp;i&nbsp;&lt;=&nbsp;n;&nbsp;i++{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;*=&nbsp;i<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(n,&nbsp;"-",&nbsp;result)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;ch&nbsp;&lt;-&nbsp;result&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;trimiterea&nbsp;datelor&nbsp;în&nbsp;canal<br>}</code></pre>
     </div>
     <p class="paragraph">Observați cum este definit parametrul care reprezintă canalul de date de tipul int: ch chan int. Ieșirea în consolă a acestui program va fi:</p>
     <div class="code-inline">
      <pre><code>5&nbsp;-&nbsp;120<br>120<br>The&nbsp;End</code></pre>
     </div>
    </div>
    <div class="lesson-navigation">
     <th:block th:if="${previousLesson != null}"> <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.title, ' ', '-'))} }" class="nav-button">← Lecția anterioară</a> </th:block> <th:block th:if="${nextLesson != null}"> <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.title, ' ', '-'))} }" class="nav-button">Lecția următoare →</a> </th:block>
    </div>
    <div class="discord-banner-section">
     <div class="discord-banner-container">
      <a href="https://discord.com/channels/1168639076098920578/1376930963379982376" target="_blank"> <img th:src="@{/images/go-discord.png}" alt="Discord Banner" class="discord-banner-image"> </a>
     </div>
    </div>
   </main>
   <aside class="ad-section">
    <div class="ad-box ad-desktop">
     <ins class="adsbygoogle" style="display:inline-block;width:120px;height:728px" data-ad-client="ca-pub-4253419731329045" data-ad-slot="7123454389"></ins>
    </div>
    <div class="ad-box ad-mobile">
     <ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-4253419731329045" data-ad-slot="7123454389"></ins>
    </div>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
   </aside>
  </div>
  <div th:replace="~{fragments/footer :: footer}"></div>
  <script th:src="@{/js/script.js}" defer></script>
 </body>
</html>