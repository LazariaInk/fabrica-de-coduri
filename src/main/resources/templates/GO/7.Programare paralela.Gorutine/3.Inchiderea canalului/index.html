<!doctype html>
<html lang="ro" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4253419731329045"
        crossorigin="anonymous"></script>

    <link rel="canonical" th:href="${canonicalUrl}" />
    <link rel="icon" type="image/png" href="/nume-aplicatie/images/favicon.png">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7Q2536ZKL2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        window.gtag = function () { dataLayer.push(arguments); };
        gtag('consent', 'default', {
            'wait_for_update': 500,
            'region': ['RO'],
            'ad_storage': 'denied',
            'analytics_storage': 'denied',
            'ad_user_data': 'denied',
            'ad_personalization': 'denied'
        });
        gtag('js', new Date());
        gtag('config', 'G-7Q2536ZKL2');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${lesson.title}">Lesson</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <style>
        body {
            background: #ffffff;
        }
    </style>
</head>

<body th:with="activeTopic='C-sharp', activeChapter='10.Colectii', activeLesson='1.Lista List_T_'">
    <button class="mobile-sidebar-toggle" onclick="toggleMobileSidebar()">☰</button>
    <div th:replace="~{fragments/nav :: nav}"></div>
    <div class="top-nav">
        <th:block th:each="topic : ${topics}">
            <a th:href="@{'/lectii/topic/' + ${topic.id}}" th:text="${topic.name}"
                th:classappend="${topic.id} == ${activeTopicId} ? 'active' : ''"> </a>
        </th:block>
    </div>
    <div class="layout">
        <div class="mobile-sidebar" id="mobileSidebar">
            <button class="close-btn" onclick="toggleSidebar()">✖</button>
            <ul class="chapter-list">
                <th:block th:each="chapter : ${chapters}">
                    <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
                        <div class="chapter-title" onclick="toggleChapter(this)">
                            <strong th:text="${chapter.title}"></strong> <span class="arrow">▼</span>
                        </div>
                        <ul class="lesson-list">
                            <th:block th:each="lesson : ${chapter.lessons}">
                                <li><a th:href="@{'/lectii/' +
${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}"
                                        th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
                            </th:block>
                        </ul>
                    </li>
                </th:block>
            </ul>
        </div>
        <aside class="sidebar">
            <ul class="sidebar-list">
                <th:block th:each="chapter : ${chapters}">
                    <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
                        <div class="chapter-toggle" onclick="toggleLessons(this)">
                            <span th:text="${chapter.title}">Chapter</span>
                        </div>
                        <ul class="lesson-list hidden">
                            <th:block th:each="lesson : ${chapter.lessons}">
                                <li><a th:href="@{'/lectii/' +
${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}"
                                        th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
                            </th:block>
                        </ul>
                    </li>
                </th:block>
            </ul>
        </aside>
        <main class="content">
            <div class="document-container">

<h1 class="main-title">Închiderea canalului</h1>
<p class="paragraph">După inițializare, canalul este gata să transmită date. Acesta se află într-o stare deschisă, iar noi putem interacționa cu el până când este închis folosind funcția încorporată close():</p>
<div class="code-inline"><pre><code>package&nbsp;main<br>import&nbsp;&quot;fmt&quot;<br>&nbsp;<br>func&nbsp;main()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;intCh&nbsp;:=&nbsp;make(chan&nbsp;int,&nbsp;3)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;intCh&nbsp;&lt;-&nbsp;10<br>&nbsp;&nbsp;&nbsp;&nbsp;intCh&nbsp;&lt;-&nbsp;3<br>&nbsp;&nbsp;&nbsp;&nbsp;close(intCh)<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;intCh&nbsp;&lt;-&nbsp;24&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;eroare&nbsp;-&nbsp;canalul&nbsp;este&nbsp;deja&nbsp;închis<br>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(&lt;-intCh)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;10<br>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(&lt;-intCh)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;3<br>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(&lt;-intCh)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;0<br>}</code></pre></div>
<p class="paragraph">După închiderea canalului, nu vom mai putea trimite date noi în acesta. Dacă încercăm acest lucru, vom obține o eroare. Totuși, putem obține datele deja adăugate anterior. Însă, dacă încercăm să obținem date din canal care nu există, vom primi valoarea implicită. De exemplu, în exemplul de mai sus, în canal sunt adăugate două valori. La încercarea de a obține o a treia valoare, care nu există în canal, vom primi valoarea implicită - numărul 0.</p>
<p class="paragraph">Pentru a evita situațiile în care canalul este deja închis, putem verifica starea canalului. Mai precis, din canal putem obține două valori:</p>
<div class="code-inline"><pre><code>val,&nbsp;opened&nbsp;:=&nbsp;&lt;-intCh</code></pre></div>
<p class="paragraph">Prima valoare, val, reprezintă datele propriu-zise din canal, iar opened reprezintă valoarea logică care va fi true dacă canalul este deschis și putem citi date din el cu succes. De exemplu, putem verifica starea canalului folosind o structură condițională:</p>
<div class="code-inline"><pre><code>package&nbsp;main<br>import&nbsp;&quot;fmt&quot;<br>&nbsp;<br>func&nbsp;main()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;intCh&nbsp;:=&nbsp;make(chan&nbsp;int,&nbsp;3)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;intCh&nbsp;&lt;-&nbsp;10<br>&nbsp;&nbsp;&nbsp;&nbsp;intCh&nbsp;&lt;-&nbsp;3<br>&nbsp;&nbsp;&nbsp;&nbsp;close(intCh)&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;canalul&nbsp;este&nbsp;închis<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;i&nbsp;:=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;cap(intCh);&nbsp;i++&nbsp;{&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;val,&nbsp;opened&nbsp;:=&nbsp;&lt;-intCh;&nbsp;opened&nbsp;{&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(val)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(&quot;Canalul&nbsp;este&nbsp;închis!&quot;)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br>&nbsp;&nbsp;&nbsp;}<br>}</code></pre></div>
<p class="paragraph">Ieșirea în consolă a programului va fi:</p>
<div class="code-inline"><pre><code>10<br>3<br>Canalul&nbsp;este&nbsp;închis!</code></pre></div>
            </div>
        </main>
        <aside class="ad-section">
            <div class="ad-box">
                <p>Google Ad Here</p>
            </div>
            <div class="ad-box">
                <p>Promo: SQL Beginner Guide</p>
            </div>
        </aside>
    </div>
    <div class="lesson-navigation">
        <th:block th:if="${previousLesson != null}">
            <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.title, ' ', '-'))} }" class="nav-button">← Lecția
                anterioară</a>
        </th:block>
        <th:block th:if="${nextLesson != null}">
            <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.title, ' ', '-'))} }" class="nav-button">Lecția
                următoare →</a>
        </th:block>
    </div>
    <div th:replace="~{fragments/footer :: footer}"></div>
    <script th:src="@{/js/script.js}" defer></script>
</body>
</html>
