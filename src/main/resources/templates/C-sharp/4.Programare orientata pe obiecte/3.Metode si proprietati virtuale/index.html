<!doctype html>
<html lang="ro" xmlns:th="http://www.w3.org/1999/xhtml">
 <head>
    <link rel="icon" type="image/png" href="/nume-aplicatie/images/favicon.png">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7Q2536ZKL2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      window.gtag = function () { dataLayer.push(arguments); };
      gtag('consent', 'default', {
        'wait_for_update': 500,
        'region': ['RO'],
        'ad_storage': 'denied',
        'analytics_storage': 'denied',
        'ad_user_data': 'denied',
        'ad_personalization': 'denied'
      });
      gtag('js', new Date());
      gtag('config', 'G-7Q2536ZKL2');
    </script>


  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:text="${lesson.title}">Lesson</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}">
  <style>
        body {
            background: #ffffff;
        }
    </style>
 </head>
 <body th:with="activeTopic='C-sharp', activeChapter='4.Programare orientata pe obiecte', activeLesson='3.Metode si proprietati virtuale'">
  <button class="mobile-sidebar-toggle" onclick="toggleMobileSidebar()">☰</button>
  <div th:replace="~{fragments/nav :: nav}"></div>
  <div class="top-nav">
   <th:block th:each="topic : ${topics}">
    <a th:href="@{'/lectii/topic/' + ${topic.id}}" th:text="${topic.name}" th:classappend="${topic.id} == ${activeTopicId} ? 'active' : ''"> </a>
   </th:block>
  </div>
  <div class="layout">
   <div class="mobile-sidebar" id="mobileSidebar">
    <button class="close-btn" onclick="toggleSidebar()">✖</button>
    <ul class="chapter-list">
     <th:block th:each="chapter : ${chapters}">
      <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
       <div class="chapter-title" onclick="toggleChapter(this)">
        <strong th:text="${chapter.title}"></strong> <span class="arrow">▼</span>
       </div>
       <ul class="lesson-list">
        <th:block th:each="lesson : ${chapter.lessons}">
         <li><a th:href="@{'/lectii/' +
    ${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
    ${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
    ${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}" th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
        </th:block>
       </ul></li>
     </th:block>
    </ul>
   </div>
   <aside class="sidebar">
    <ul class="sidebar-list">
     <th:block th:each="chapter : ${chapters}">
      <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
       <div class="chapter-toggle" onclick="toggleLessons(this)">
        <span th:text="${chapter.title}">Chapter</span>
       </div>
       <ul class="lesson-list hidden">
        <th:block th:each="lesson : ${chapter.lessons}">
         <li><a th:href="@{'/lectii/' +
    ${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
    ${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
    ${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}" th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
        </th:block>
       </ul></li>
     </th:block>
    </ul>
   </aside>
   <main class="content">
    <div class="document-container">
     <h1 class="main-title">Metode și proprietăți virtuale</h1>
     <p class="paragraph">La moștenire, adesea apare necesitatea de a modifica funcționalitatea unei metode moștenite de la clasa de bază în clasa derivată. În acest caz, clasa derivată poate suprascrie metodele și proprietățile clasei de bază.</p>
     <p class="paragraph">Metodele și proprietățile pe care dorim să le facem disponibile pentru suprascriere sunt marcate în clasa de bază cu modificatorul virtual. Aceste metode și proprietăți se numesc virtuale.</p>
     <p class="paragraph">Pentru a suprascrie o metodă în clasa derivată, aceasta este definită cu modificatorul override. Metoda suprascrisă în clasa derivată trebuie să aibă același set de parametri ca și metoda virtuală din clasa de bază.</p>
     <p class="paragraph">De exemplu, să examinăm următoarele clase:</p>
     <div class="code-inline">
      <pre><code>class&nbsp;Person<br>{<br>&nbsp;&nbsp;&nbsp;public&nbsp;string&nbsp;Name&nbsp;{&nbsp;get;&nbsp;set;&nbsp;}<br>&nbsp;&nbsp;&nbsp;public&nbsp;Person(string&nbsp;name)<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;=&nbsp;name;<br>&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;public&nbsp;virtual&nbsp;void&nbsp;Print()<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine(Name);<br>&nbsp;&nbsp;&nbsp;}<br>}<br>class&nbsp;Employee&nbsp;:&nbsp;Person<br>{<br>&nbsp;&nbsp;&nbsp;public&nbsp;string&nbsp;Company&nbsp;{&nbsp;get;&nbsp;set;&nbsp;}<br>&nbsp;&nbsp;&nbsp;public&nbsp;Employee(string&nbsp;name,&nbsp;string&nbsp;company)&nbsp;:&nbsp;base(name)<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Company&nbsp;=&nbsp;company;<br>&nbsp;&nbsp;&nbsp;}<br>}</code></pre>
     </div>
     <p class="paragraph">Aici, clasa Person reprezintă o persoană. Clasa Employee este derivată din Person și reprezintă un angajat al unei companii. Această clasă, pe lângă proprietatea moștenită Name, are încă o proprietate - Company.</p>
     <p class="paragraph">Pentru a face metoda Print disponibilă pentru suprascriere, această metodă este definită cu modificatorul virtual. Prin urmare, putem suprascrie această metodă, dar putem și să nu o facem. Să presupunem că ne mulțumește implementarea metodei din clasa de bază.</p>
     <p class="paragraph">În acest caz, obiectele Employee vor utiliza implementarea metodei Print din clasa Person:</p>
     <div class="code-inline">
      <pre><code>Person&nbsp;bob&nbsp;=&nbsp;new&nbsp;Person("Bob");<br>bob.Print();&nbsp;//&nbsp;apelul&nbsp;metodei&nbsp;Print&nbsp;din&nbsp;clasa&nbsp;Person<br><br>Employee&nbsp;tom&nbsp;=&nbsp;new&nbsp;Employee("Tom",&nbsp;"Microsoft");<br>tom.Print();&nbsp;//&nbsp;apelul&nbsp;metodei&nbsp;Print&nbsp;din&nbsp;clasa&nbsp;Person</code></pre>
     </div>
     <p class="paragraph">Ieșirea consolă:</p>
     <div class="code-inline">
      <pre><code>Bob<br>Tom</code></pre>
     </div>
     <p class="paragraph">Dar, de asemenea, putem suprascrie metoda virtuală. Pentru acest lucru, în clasa derivată se definește o metodă cu modificatorul override, care are același nume și set de parametri:</p>
     <div class="code-inline">
      <pre><code>class&nbsp;Employee&nbsp;:&nbsp;Person<br>{<br>&nbsp;&nbsp;&nbsp;public&nbsp;string&nbsp;Company&nbsp;{&nbsp;get;&nbsp;set;&nbsp;}<br>&nbsp;&nbsp;&nbsp;public&nbsp;Employee(string&nbsp;name,&nbsp;string&nbsp;company)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;base(name)<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Company&nbsp;=&nbsp;company;<br>&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;public&nbsp;override&nbsp;void&nbsp;Print()<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine($"{Name}&nbsp;lucrează&nbsp;la&nbsp;{Company}");<br>&nbsp;&nbsp;&nbsp;}<br>}</code></pre>
     </div>
     <p class="paragraph">Să luăm aceleași obiecte:</p>
     <div class="code-inline">
      <pre><code>Person&nbsp;bob&nbsp;=&nbsp;new&nbsp;Person("Bob");<br>bob.Print();&nbsp;//&nbsp;apelul&nbsp;metodei&nbsp;Print&nbsp;din&nbsp;clasa&nbsp;Person<br><br>Employee&nbsp;tom&nbsp;=&nbsp;new&nbsp;Employee("Tom",&nbsp;"Microsoft");<br>tom.Print();&nbsp;//&nbsp;apelul&nbsp;metodei&nbsp;Print&nbsp;din&nbsp;clasa&nbsp;Employee</code></pre>
     </div>
     <p class="paragraph">Ieșirea consolă:</p>
     <div class="code-inline">
      <pre><code>Bob<br>Tom&nbsp;lucrează&nbsp;la&nbsp;Microsoft</code></pre>
     </div>
     <p class="paragraph">Metodele virtuale ale clasei de bază definesc interfața întregii ierarhii, adică în orice clasă derivată, care nu este un descendent direct al clasei de bază, se pot suprascrie metodele virtuale. De exemplu, putem defini clasa Manager, care va fi derivată din Employee, și în ea, de asemenea, putem suprascrie metoda Print.</p>
     <p class="paragraph">La suprascrierea metodelor virtuale trebuie să ținem cont de câteva restricții:</p>
     <ul class="enumeration">
      <li>Metodele virtuale și cele suprascrise trebuie să aibă același modificator de acces. Adică, dacă metoda virtuală este definită cu ajutorul modificatorului public, atunci și metoda suprascrisă trebuie să aibă modificatorul public</li>
      <li>Nu se poate suprascrie sau declara ca virtuală o metodă statică</li>
     </ul>
     <h2 class="subtitle">Cuvântul cheie base</h2>
     <p class="paragraph">Pe lângă constructori, putem accesa cu ajutorul cuvântului cheie base și alți membri ai clasei de bază. În cazul nostru, apelul base.Print(); va fi o referire la metoda Print() în clasa Person:</p>
     <div class="code-inline">
      <pre><code>class&nbsp;Employee&nbsp;:&nbsp;Person<br>{<br>&nbsp;&nbsp;&nbsp;public&nbsp;string&nbsp;Company&nbsp;{&nbsp;get;&nbsp;set;&nbsp;}<br>&nbsp;<br>&nbsp;&nbsp;&nbsp;public&nbsp;Employee(string&nbsp;name,&nbsp;string&nbsp;company)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:base(name)<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Company&nbsp;=&nbsp;company;<br>&nbsp;&nbsp;&nbsp;}<br>&nbsp;<br>&nbsp;&nbsp;&nbsp;public&nbsp;override&nbsp;void&nbsp;Print()<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base.Print();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine($"lucrează&nbsp;la&nbsp;{Company}");<br>&nbsp;&nbsp;&nbsp;}<br>}</code></pre>
     </div>
     <h2 class="subtitle">Suprascrierea proprietăților</h2>
     <p class="paragraph">La fel ca metodele, se pot suprascrie și proprietățile:</p>
     <div class="code-inline">
      <pre><code>class&nbsp;Person<br>{<br>&nbsp;&nbsp;&nbsp;int&nbsp;age&nbsp;=&nbsp;1;<br>&nbsp;&nbsp;&nbsp;public&nbsp;virtual&nbsp;int&nbsp;Age<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get&nbsp;=&gt;&nbsp;age;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set{&nbsp;if(value&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;value&nbsp;&lt;&nbsp;110)&nbsp;age&nbsp;=&nbsp;value;&nbsp;}<br>&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;public&nbsp;string&nbsp;Name&nbsp;{&nbsp;get;&nbsp;set;&nbsp;}<br>&nbsp;&nbsp;&nbsp;public&nbsp;Person(string&nbsp;name)<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;=&nbsp;name;<br>&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;public&nbsp;virtual&nbsp;void&nbsp;Print()&nbsp;=&gt;&nbsp;Console.WriteLine(Name);<br>}<br>class&nbsp;Employee&nbsp;:&nbsp;Person<br>{<br>&nbsp;&nbsp;&nbsp;public&nbsp;override&nbsp;int&nbsp;Age<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get&nbsp;=&gt;&nbsp;base.Age;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;{&nbsp;if&nbsp;(value&nbsp;&gt;&nbsp;17&nbsp;&amp;&amp;&nbsp;value&nbsp;&lt;&nbsp;110)&nbsp;base.Age&nbsp;=&nbsp;value;&nbsp;}<br>&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;public&nbsp;string&nbsp;Company&nbsp;{&nbsp;get;&nbsp;set;&nbsp;}<br>&nbsp;&nbsp;&nbsp;public&nbsp;Employee(string&nbsp;name,&nbsp;string&nbsp;company)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;base(name)<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Company&nbsp;=&nbsp;company;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base.Age&nbsp;=&nbsp;18;&nbsp;//&nbsp;vârsta&nbsp;implicită&nbsp;pentru&nbsp;angajați<br>&nbsp;&nbsp;&nbsp;}<br>}</code></pre>
     </div>
     <p class="paragraph">În acest caz, în clasa Person este definită proprietatea virtuală Age, care setează valoarea dacă este mai mare de 0 și mai mică de 110. În clasa Employee, această proprietate este suprascrisă - vârsta unui angajat trebuie să fie nu mai mică de 18.</p>
     <div class="code-inline">
      <pre><code>Person&nbsp;bob&nbsp;=&nbsp;new&nbsp;Person("Bob");<br>Console.WriteLine(bob.Age);&nbsp;//&nbsp;1<br><br>Employee&nbsp;tom&nbsp;=&nbsp;new&nbsp;Employee("Tom",&nbsp;"Microsoft");<br>Console.WriteLine(tom.Age);&nbsp;//&nbsp;18<br>tom.Age&nbsp;=&nbsp;22;<br>Console.WriteLine(tom.Age);&nbsp;//&nbsp;22<br>tom.Age&nbsp;=&nbsp;12;<br>Console.WriteLine(tom.Age);&nbsp;//&nbsp;22</code></pre>
     </div>
     <h2 class="subtitle">Interzicerea suprascrierii metodelor</h2>
     <p class="paragraph">De asemenea, se poate interzice suprascrierea metodelor și proprietăților. În acest caz, acestea trebuie declarate cu modificatorul sealed:</p>
     <div class="code-inline">
      <pre><code>class&nbsp;Employee&nbsp;:&nbsp;Person<br>{<br>&nbsp;&nbsp;&nbsp;public&nbsp;string&nbsp;Company&nbsp;{&nbsp;get;&nbsp;set;&nbsp;}<br>&nbsp;<br>&nbsp;&nbsp;&nbsp;public&nbsp;Employee(string&nbsp;name,&nbsp;string&nbsp;company)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;base(name)<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Company&nbsp;=&nbsp;company;<br>&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;public&nbsp;override&nbsp;sealed&nbsp;void&nbsp;Print()<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine($"{Name}&nbsp;lucrează&nbsp;la&nbsp;{Company}");<br>&nbsp;&nbsp;&nbsp;}<br>}</code></pre>
     </div>
     <p class="paragraph">Când se creează metode cu modificatorul sealed, trebuie să ținem cont că sealed se aplică în pereche cu override, adică numai în metodele suprascrise.</p>
     <p class="paragraph">Și în acest caz nu vom putea suprascrie metoda Print în clasa care este moștenită de la Employee.</p>
    </div>
   </main>
   <aside class="ad-section">
    <div class="ad-box">
     <p>Google Ad Here</p>
    </div>
    <div class="ad-box">
     <p>Promo: SQL Beginner Guide</p>
    </div>
   </aside>
  </div>
  <div class="lesson-navigation">
   <th:block th:if="${previousLesson != null}">
    <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.title, ' ', '-'))} }" class="nav-button">← Lecția anterioară</a>
   </th:block> <th:block th:if="${nextLesson != null}">
    <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.title, ' ', '-'))} }" class="nav-button">Lecția următoare →</a>
   </th:block>
  </div>
  <div th:replace="~{fragments/footer :: footer}"></div>
  <script th:src="@{/js/script.js}" defer></script>
 </body>
</html>
