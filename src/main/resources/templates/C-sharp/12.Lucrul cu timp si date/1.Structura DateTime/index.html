<!doctype html>
<html lang="ro" xmlns:th="http://www.w3.org/1999/xhtml">
 <head>
    <link rel="icon" type="image/png" href="/nume-aplicatie/images/favicon.png">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7Q2536ZKL2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      window.gtag = function () { dataLayer.push(arguments); };
      gtag('consent', 'default', {
        'wait_for_update': 500,
        'region': ['RO'],
        'ad_storage': 'denied',
        'analytics_storage': 'denied',
        'ad_user_data': 'denied',
        'ad_personalization': 'denied'
      });
      gtag('js', new Date());
      gtag('config', 'G-7Q2536ZKL2');
    </script>


  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:text="${lesson.title}">Lesson</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}">
  <style>
        body {
            background: #ffffff;
        }
    </style>
 </head>
 <body th:with="activeTopic='C-sharp', activeChapter='12.Lucrul cu timp si date', activeLesson='1.Structura DateTime'">
  <button class="mobile-sidebar-toggle" onclick="toggleMobileSidebar()">☰</button>
  <div th:replace="~{fragments/nav :: nav}"></div>
  <div class="top-nav">
   <th:block th:each="topic : ${topics}">
    <a th:href="@{'/lectii/topic/' + ${topic.id}}" th:text="${topic.name}" th:classappend="${topic.id} == ${activeTopicId} ? 'active' : ''"> </a>
   </th:block>
  </div>
  <div class="layout">
   <div class="mobile-sidebar" id="mobileSidebar">
    <button class="close-btn" onclick="toggleSidebar()">✖</button>
    <ul class="chapter-list">
     <th:block th:each="chapter : ${chapters}">
      <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
       <div class="chapter-title" onclick="toggleChapter(this)">
        <strong th:text="${chapter.title}"></strong> <span class="arrow">▼</span>
       </div>
       <ul class="lesson-list">
        <th:block th:each="lesson : ${chapter.lessons}">
         <li><a th:href="@{'/lectii/' +
    ${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
    ${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
    ${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}" th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
        </th:block>
       </ul></li>
     </th:block>
    </ul>
   </div>
   <aside class="sidebar">
    <ul class="sidebar-list">
     <th:block th:each="chapter : ${chapters}">
      <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
       <div class="chapter-toggle" onclick="toggleLessons(this)">
        <span th:text="${chapter.title}">Chapter</span>
       </div>
       <ul class="lesson-list hidden">
        <th:block th:each="lesson : ${chapter.lessons}">
         <li><a th:href="@{'/lectii/' +
    ${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
    ${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
    ${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}" th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
        </th:block>
       </ul></li>
     </th:block>
    </ul>
   </aside>
   <main class="content">
    <div class="document-container">
     <h1 class="main-title">Structura DateTime</h1>
     <p class="paragraph">Pentru lucrul cu date și timp în .NET este destinată structura DateTime. Aceasta reprezintă data și ora de la 00:00:00 1 ianuarie 0001 până la 23:59:59 31 decembrie 9999.</p>
     <p class="paragraph">Pentru crearea unui nou obiect DateTime se poate folosi și constructorul. Constructorul gol creează data inițială:</p>
     <div class="code-inline">
      <pre><code>DateTime&nbsp;dateTime&nbsp;=&nbsp;new&nbsp;DateTime();<br>Console.WriteLine(dateTime);&nbsp;//&nbsp;01.01.0001&nbsp;0:00:00</code></pre>
     </div>
     <p class="paragraph">Adică vom obține valoarea minimă posibilă, care poate fi obținută și astfel:</p>
     <div class="code-inline">
      <pre><code>Console.WriteLine(DateTime.MinValue);</code></pre>
     </div>
     <p class="paragraph">Pentru a seta o dată specifică, trebuie folosit unul dintre constructorii care acceptă parametri:</p>
     <div class="code-inline">
      <pre><code>DateTime&nbsp;date1&nbsp;=&nbsp;new&nbsp;DateTime(2015,&nbsp;7,&nbsp;20);&nbsp;//&nbsp;an&nbsp;-&nbsp;lună&nbsp;-&nbsp;zi<br>Console.WriteLine(date1);&nbsp;//&nbsp;20.07.2015&nbsp;0:00:00</code></pre>
     </div>
     <p class="paragraph">Setarea timpului:</p>
     <div class="code-inline">
      <pre><code>DateTime&nbsp;date1&nbsp;=&nbsp;new&nbsp;DateTime(2015,&nbsp;7,&nbsp;20,&nbsp;18,&nbsp;30,&nbsp;25);&nbsp;//&nbsp;an&nbsp;-&nbsp;lună&nbsp;-&nbsp;zi&nbsp;-&nbsp;oră&nbsp;-&nbsp;minut&nbsp;-&nbsp;secundă<br>Console.WriteLine(date1);&nbsp;//&nbsp;20.07.2015&nbsp;18:30:25</code></pre>
     </div>
     <p class="paragraph">Dacă este necesar să obținem timpul și data curentă, se pot folosi mai multe proprietăți ale DateTime:</p>
     <div class="code-inline">
      <pre><code>Console.WriteLine(DateTime.Now);<br>Console.WriteLine(DateTime.UtcNow);<br>Console.WriteLine(DateTime.Today);</code></pre>
     </div>
     <p class="paragraph">Ieșire în consolă:</p>
     <div class="code-inline">
      <pre><code>20.07.2015&nbsp;11:43:33<br>20.07.2015&nbsp;8:43:33<br>20.07.2015&nbsp;0:00:00</code></pre>
     </div>
     <p class="paragraph">Proprietatea DateTime.Now ia data și ora curentă a calculatorului, DateTime.UtcNow - data și ora relativă la timpul Greenwich (GMT) și DateTime.Today - doar data curentă.</p>
     <p class="paragraph">La lucrul cu datele trebuie să se țină cont că, în mod implicit, pentru reprezentarea datelor se folosește calendarul gregorian. Dar ce se întâmplă dacă dorim să obținem ziua săptămânii pentru 5 octombrie 1582:</p>
     <div class="code-inline">
      <pre><code>DateTime&nbsp;someDate&nbsp;=&nbsp;new&nbsp;DateTime(1582,&nbsp;10,&nbsp;5);<br>Console.WriteLine(someDate.DayOfWeek);</code></pre>
     </div>
     <p class="paragraph">Consola va afișa valoarea Tuesday, adică marți. Cu toate acestea, după cum se știe din istorie, prima trecere de la calendarul iulian la calendarul gregorian a avut loc în octombrie 1582. Atunci, după data de 4 octombrie (joi) (încă după calendarul iulian) s-a trecut direct la 15 octombrie (vineri)(deja după calendarul gregorian). Astfel, au fost eliminate efectiv 10 zile. Adică, după 4 octombrie urma 15 octombrie.</p>
     <p class="paragraph">În majoritatea cazurilor acest fapt nu va afecta calculele, dar la lucrul cu date foarte vechi acest aspect trebuie avut în vedere.</p>
     <h2 class="subtitle">Operații cu DateTime</h2>
     <p class="paragraph">Operațiile principale cu structura DateTime sunt legate de adunarea sau scăderea datelor. De exemplu, trebuie să adăugăm sau să scădem câteva zile de la o anumită dată.</p>
     <p class="paragraph">Pentru adăugarea datelor se folosesc mai multe metode:</p>
     <ul class="enumeration">
      <li>Add(TimeSpan value): adaugă la dată valoarea TimeSpan</li>
      <li>AddDays(double value): adaugă câteva zile la data curentă</li>
      <li>AddHours(double value): adaugă câteva ore la data curentă</li>
      <li>AddMinutes(double value): adaugă câteva minute la data curentă</li>
      <li>AddMonths(int value): adaugă câteva luni la data curentă</li>
      <li>AddYears(int value): adaugă câțiva ani la data curentă</li>
     </ul>
     <p class="paragraph">De exemplu, adăugăm la o anumită dată 3 ore:</p>
     <div class="code-inline">
      <pre><code>DateTime&nbsp;date1&nbsp;=&nbsp;new&nbsp;DateTime(2015,&nbsp;7,&nbsp;20,&nbsp;18,&nbsp;30,&nbsp;25);&nbsp;//&nbsp;20.07.2015&nbsp;18:30:25<br>Console.WriteLine(date1.AddHours(3));&nbsp;//&nbsp;20.07.2015&nbsp;21:30:25</code></pre>
     </div>
     <p class="paragraph">Pentru scăderea datelor se folosește metoda Subtract(DateTime date):</p>
     <div class="code-inline">
      <pre><code>DateTime&nbsp;date1&nbsp;=&nbsp;new&nbsp;DateTime(2015,&nbsp;7,&nbsp;20,&nbsp;18,&nbsp;30,&nbsp;25);&nbsp;//&nbsp;20.07.2015&nbsp;18:30:25<br>DateTime&nbsp;date2&nbsp;=&nbsp;new&nbsp;DateTime(2015,&nbsp;7,&nbsp;20,&nbsp;15,&nbsp;30,&nbsp;25);&nbsp;//&nbsp;20.07.2015&nbsp;15:30:25<br>Console.WriteLine(date1.Subtract(date2));&nbsp;//&nbsp;03:00:00</code></pre>
     </div>
     <p class="paragraph">Aici datele diferă cu trei ore, așa că rezultatul va fi data "03:00:00".</p>
     <p class="paragraph">Metoda Subtract nu permite scăderea separată a zilelor, orelor și așa mai departe. Dar nu este necesar, deoarece putem transmite metodei AddDays() și altor metode de adăugare valori negative:</p>
     <div class="code-inline">
      <pre><code>//&nbsp;scădem&nbsp;trei&nbsp;ore<br>DateTime&nbsp;date1&nbsp;=&nbsp;new&nbsp;DateTime(2015,&nbsp;7,&nbsp;20,&nbsp;18,&nbsp;30,&nbsp;25);&nbsp;&nbsp;//&nbsp;20.07.2015&nbsp;18:30:25<br>Console.WriteLine(date1.AddHours(-3));&nbsp;//&nbsp;20.07.2015&nbsp;15:30:25</code></pre>
     </div>
     <p class="paragraph">În afară de operațiile de adunare și scădere mai există și câteva metode de formatare a datelor:</p>
     <div class="code-inline">
      <pre><code>DateTime&nbsp;date1&nbsp;=&nbsp;new&nbsp;DateTime(2015,&nbsp;7,&nbsp;20,&nbsp;18,&nbsp;30,&nbsp;25);<br>Console.WriteLine(date1.ToLocalTime());&nbsp;//&nbsp;20.07.2015&nbsp;21:30:25<br>Console.WriteLine(date1.ToUniversalTime());&nbsp;//&nbsp;20.07.2015&nbsp;15:30:25<br>Console.WriteLine(date1.ToLongDateString());&nbsp;//&nbsp;20&nbsp;iulie&nbsp;2015<br>Console.WriteLine(date1.ToShortDateString());&nbsp;//&nbsp;20.07.2015<br>Console.WriteLine(date1.ToLongTimeString());&nbsp;//&nbsp;18:30:25<br>Console.WriteLine(date1.ToShortTimeString());&nbsp;//&nbsp;18:30</code></pre>
     </div>
     <p class="paragraph">Metoda ToLocalTime() transformă timpul UTC în timpul local, adăugând diferența față de timpul Greenwich. Metoda ToUniversalTime(), dimpotrivă, transformă timpul local în timpul UTC, adică scade diferența față de timpul Greenwich. Celelalte metode transformă data într-un anumit format.</p>
    </div>
   </main>
   <aside class="ad-section">
    <div class="ad-box">
     <p>Google Ad Here</p>
    </div>
    <div class="ad-box">
     <p>Promo: SQL Beginner Guide</p>
    </div>
   </aside>
  </div>
  <div class="lesson-navigation">
   <th:block th:if="${previousLesson != null}">
    <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.title, ' ', '-'))} }" class="nav-button">← Lecția anterioară</a>
   </th:block> <th:block th:if="${nextLesson != null}">
    <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.title, ' ', '-'))} }" class="nav-button">Lecția următoare →</a>
   </th:block>
  </div>
  <div th:replace="~{fragments/footer :: footer}"></div>
  <script th:src="@{/js/script.js}" defer></script>
 </body>
</html>
