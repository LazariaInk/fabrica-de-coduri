<!doctype html>
<html lang="ro" xmlns:th="http://www.w3.org/1999/xhtml">
 <head>
    <link rel="icon" type="image/png" href="/nume-aplicatie/images/favicon.png">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7Q2536ZKL2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      window.gtag = function () { dataLayer.push(arguments); };
      gtag('consent', 'default', {
        'wait_for_update': 500,
        'region': ['RO'],
        'ad_storage': 'denied',
        'analytics_storage': 'denied',
        'ad_user_data': 'denied',
        'ad_personalization': 'denied'
      });
      gtag('js', new Date());
      gtag('config', 'G-7Q2536ZKL2');
    </script>


  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:text="${lesson.title}">Lesson</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}">
  <style>
        body {
            background: #ffffff;
        }
    </style>
 </head>
 <body th:with="activeTopic='C-sharp', activeChapter='2.Structura programului', activeLesson='20.Functii recursive'">
  <button class="mobile-sidebar-toggle" onclick="toggleMobileSidebar()">☰</button>
  <div th:replace="~{fragments/nav :: nav}"></div>
  <div class="top-nav">
   <th:block th:each="topic : ${topics}">
    <a th:href="@{'/lectii/topic/' + ${topic.id}}" th:text="${topic.name}" th:classappend="${topic.id} == ${activeTopicId} ? 'active' : ''"> </a>
   </th:block>
  </div>
  <div class="layout">
   <div class="mobile-sidebar" id="mobileSidebar">
    <button class="close-btn" onclick="toggleSidebar()">✖</button>
    <ul class="chapter-list">
     <th:block th:each="chapter : ${chapters}">
      <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
       <div class="chapter-title" onclick="toggleChapter(this)">
        <strong th:text="${chapter.title}"></strong> <span class="arrow">▼</span>
       </div>
       <ul class="lesson-list">
        <th:block th:each="lesson : ${chapter.lessons}">
         <li><a th:href="@{'/lectii/' +
    ${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
    ${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
    ${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}" th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
        </th:block>
       </ul></li>
     </th:block>
    </ul>
   </div>
   <aside class="sidebar">
    <ul class="sidebar-list">
     <th:block th:each="chapter : ${chapters}">
      <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
       <div class="chapter-toggle" onclick="toggleLessons(this)">
        <span th:text="${chapter.title}">Chapter</span>
       </div>
       <ul class="lesson-list hidden">
        <th:block th:each="lesson : ${chapter.lessons}">
         <li><a th:href="@{'/lectii/' +
    ${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
    ${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
    ${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}" th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
        </th:block>
       </ul></li>
     </th:block>
    </ul>
   </aside>
   <main class="content">
    <div class="document-container">
     <h1 class="main-title">Funcții recursive</h1>
     <p class="paragraph">Funcția recursivă reprezintă o construcție în care funcția se apelează pe ea însăși.</p>
     <h2 class="subtitle">Funcția recursivă pentru factorial</h2>
     <p class="paragraph">Să luăm, de exemplu, calculul factorialului, care folosește formula n! = 1 * 2 * … * n. Practic, pentru a găsi factorialul unui număr, înmulțim toate numerele până la acel număr. De exemplu, factorialul numărului 4 este 24 = 1 * 2 * 3 * 4, iar factorialul numărului 5 este 120 = 1 * 2 * 3 * 4 * 5.</p>
     <p class="paragraph">Definim metoda pentru calcularea factorialului:</p>
     <div class="code-inline">
      <pre><code>int&nbsp;Factorial(int&nbsp;n)<br>{<br>&nbsp;&nbsp;&nbsp;if&nbsp;(n&nbsp;==&nbsp;1)&nbsp;return&nbsp;1;<br>&nbsp;&nbsp;&nbsp;return&nbsp;n&nbsp;*&nbsp;Factorial(n&nbsp;-&nbsp;1);<br>}</code></pre>
     </div>
     <p class="paragraph">La crearea unei funcții recursive, trebuie să existe neapărat o condiție de bază de la care începe calculul funcției. În cazul factorialului, aceasta este factorialul numărului 1, care este egal cu 1. Factorialele tuturor celorlalte numere pozitive vor începe cu calculul factorialului numărului 1, care este 1.</p>
     <p class="paragraph">La nivelul limbajului de programare, pentru returnarea valorii de bază se folosește operatorul return:</p>
     <div class="code-inline">
      <pre><code>if&nbsp;(n&nbsp;==&nbsp;1)&nbsp;return&nbsp;1;</code></pre>
     </div>
     <p class="paragraph">Adică, dacă numărul introdus este 1, se returnează 1.</p>
     <p class="paragraph">O altă caracteristică a funcțiilor recursive: toate apelurile recursive trebuie să se refere la subfuncții care, în cele din urmă, se reduc la condiția de bază:</p>
     <div class="code-inline">
      <pre><code>return&nbsp;n&nbsp;*&nbsp;Factorial(n&nbsp;-&nbsp;1);</code></pre>
     </div>
     <p class="paragraph">Astfel, când transmitem în funcție un număr diferit de 1, la apelurile recursive ulterioare, în subfuncții se va transmite de fiecare dată un număr mai mic cu o unitate. În cele din urmă, ajungem la situația în care numărul este 1 și se folosește condiția de bază. Aceasta se numește recursie descendentă.</p>
     <p class="paragraph">Să folosim această funcție:</p>
     <div class="code-inline">
      <pre><code>int&nbsp;Factorial(int&nbsp;n)<br>{<br>&nbsp;&nbsp;&nbsp;if&nbsp;(n&nbsp;==&nbsp;1)&nbsp;return&nbsp;1;<br>&nbsp;&nbsp;&nbsp;return&nbsp;n&nbsp;*&nbsp;Factorial(n&nbsp;-&nbsp;1);<br>}<br><br>int&nbsp;factorial4&nbsp;=&nbsp;Factorial(4);&nbsp;&nbsp;//&nbsp;24<br>int&nbsp;factorial5&nbsp;=&nbsp;Factorial(5);&nbsp;&nbsp;//&nbsp;120<br>int&nbsp;factorial6&nbsp;=&nbsp;Factorial(6);&nbsp;&nbsp;//&nbsp;720<br><br>Console.WriteLine($"Factorialul&nbsp;numărului&nbsp;4&nbsp;=&nbsp;{factorial4}");<br>Console.WriteLine($"Factorialul&nbsp;numărului&nbsp;5&nbsp;=&nbsp;{factorial5}");<br>Console.WriteLine($"Factorialul&nbsp;numărului&nbsp;6&nbsp;=&nbsp;{factorial6}");</code></pre>
     </div>
     <p class="paragraph">Să analizăm pas cu pas ce se întâmplă în cazul apelului Factorial(4).</p>
     <p class="paragraph">Mai întâi se verifică dacă numărul este egal cu 1:</p>
     <div class="code-inline">
      <pre><code>if&nbsp;(n&nbsp;==&nbsp;1)&nbsp;return&nbsp;1;</code></pre>
     </div>
     <p class="paragraph">Dar la început n este 4, deci această condiție este falsă și, în consecință, se execută codul:</p>
     <div class="code-inline">
      <pre><code>return&nbsp;n&nbsp;*&nbsp;Factorial(n&nbsp;-&nbsp;1);</code></pre>
     </div>
     <p class="paragraph">Practic, avem:</p>
     <div class="code-inline">
      <pre><code>return&nbsp;4&nbsp;*&nbsp;Factorial(3);</code></pre>
     </div>
     <p class="paragraph">Apoi se execută expresia:</p>
     <div class="code-inline">
      <pre><code>Factorial(3)</code></pre>
     </div>
     <p class="paragraph">Din nou, n nu este egal cu 1, deci se execută codul:</p>
     <div class="code-inline">
      <pre><code>return&nbsp;n&nbsp;*&nbsp;Factorial(n&nbsp;-&nbsp;1);</code></pre>
     </div>
     <p class="paragraph">Practic:</p>
     <div class="code-inline">
      <pre><code>return&nbsp;3&nbsp;*&nbsp;Factorial(2);</code></pre>
     </div>
     <p class="paragraph">Apoi se execută expresia:</p>
     <div class="code-inline">
      <pre><code>Factorial(2)</code></pre>
     </div>
     <p class="paragraph">Din nou, n nu este egal cu 1, deci se execută codul:</p>
     <div class="code-inline">
      <pre><code>return&nbsp;n&nbsp;*&nbsp;Factorial(n&nbsp;-&nbsp;1);</code></pre>
     </div>
     <p class="paragraph">Practic:</p>
     <div class="code-inline">
      <pre><code>return&nbsp;2&nbsp;*&nbsp;Factorial(1);</code></pre>
     </div>
     <p class="paragraph">Apoi se execută expresia:</p>
     <div class="code-inline">
      <pre><code>Factorial(1)</code></pre>
     </div>
     <p class="paragraph">Acum n este egal cu 1, deci se execută codul:</p>
     <div class="code-inline">
      <pre><code>if&nbsp;(n&nbsp;==&nbsp;1)&nbsp;return&nbsp;1;</code></pre>
     </div>
     <p class="paragraph">Și se returnează 1. În cele din urmă, expresia:</p>
     <div class="code-inline">
      <pre><code>Factorial(4)</code></pre>
     </div>
     <p class="paragraph">Se rezumă la:</p>
     <div class="code-inline">
      <pre><code>4&nbsp;*&nbsp;3&nbsp;*&nbsp;2&nbsp;*&nbsp;Factorial(1)</code></pre>
     </div>
     <h2 class="subtitle">Funcția recursivă pentru Fibonacci</h2>
     <p class="paragraph">Un alt exemplu comun de funcție recursivă este funcția care calculează numerele Fibonacci. Elementul n din secvența Fibonacci se determină prin formula: f(n)=f(n-1) + f(n-2), unde f(0)=0 și f(1)=1. Secvența Fibonacci va arăta astfel: 0 (elementul 0), 1 (elementul 1), 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, .... Pentru a determina numerele acestei secvențe, definim următoarea metodă:</p>
     <div class="code-inline">
      <pre><code>int&nbsp;Fibonacci(int&nbsp;n)<br>{<br>&nbsp;&nbsp;&nbsp;if&nbsp;(n&nbsp;==&nbsp;0&nbsp;||&nbsp;n&nbsp;==&nbsp;1)&nbsp;return&nbsp;n;<br>&nbsp;&nbsp;&nbsp;return&nbsp;Fibonacci(n&nbsp;-&nbsp;1)&nbsp;+&nbsp;Fibonacci(n&nbsp;-&nbsp;2);<br>}<br><br>int&nbsp;fib4&nbsp;=&nbsp;Fibonacci(4);<br>int&nbsp;fib5&nbsp;=&nbsp;Fibonacci(5);<br>int&nbsp;fib6&nbsp;=&nbsp;Fibonacci(6);<br><br>Console.WriteLine($"Al&nbsp;4-lea&nbsp;număr&nbsp;Fibonacci&nbsp;=&nbsp;{fib4}");<br>Console.WriteLine($"Al&nbsp;5-lea&nbsp;număr&nbsp;Fibonacci&nbsp;=&nbsp;{fib5}");<br>Console.WriteLine($"Al&nbsp;6-lea&nbsp;număr&nbsp;Fibonacci&nbsp;=&nbsp;{fib6}");</code></pre>
     </div>
     <p class="paragraph">Aici condiția de bază arată astfel:</p>
     <div class="code-inline">
      <pre><code>if&nbsp;(n&nbsp;==&nbsp;0&nbsp;||&nbsp;n&nbsp;==&nbsp;1)&nbsp;return&nbsp;n;</code></pre>
     </div>
     <p class="paragraph">Adică, dacă căutăm elementul 0 sau 1 al secvenței, se returnează acest număr - 0 sau 1. În caz contrar, se returnează rezultatul expresiei Fibonacci(n - 1) + Fibonacci(n - 2).</p>
     <h2 class="subtitle">Recursii și cicluri</h2>
     <p class="paragraph">Acestea sunt exemple simple de funcții recursive care au scopul de a oferi o înțelegere a funcționării recursiei. În același timp, pentru ambele funcții putem folosi construcții ciclice în locul recursiei.</p>
     <p class="paragraph">De obicei, alternativele bazate pe cicluri funcționează mai rapid și sunt mai eficiente decât recursia. De exemplu, calculul numerelor Fibonacci folosind cicluri:</p>
     <div class="code-inline">
      <pre><code>static&nbsp;int&nbsp;Fibonacci2(int&nbsp;n)<br>{<br>&nbsp;&nbsp;&nbsp;int&nbsp;result&nbsp;=&nbsp;0;<br>&nbsp;&nbsp;&nbsp;int&nbsp;b&nbsp;=&nbsp;1;<br>&nbsp;&nbsp;&nbsp;int&nbsp;tmp;<br><br>&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;n;&nbsp;i++)<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp&nbsp;=&nbsp;result;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;b;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;+=&nbsp;tmp;<br>&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;return&nbsp;result;<br>}</code></pre>
     </div>
     <p class="paragraph">În același timp, în anumite situații, recursia oferă o soluție elegantă, de exemplu, la parcurgerea diferitelor structuri de tip arbore, cum ar fi arborele de directoare și fișiere.</p>
    </div>
   </main>
   <aside class="ad-section">
    <div class="ad-box">
     <p>Google Ad Here</p>
    </div>
    <div class="ad-box">
     <p>Promo: SQL Beginner Guide</p>
    </div>
   </aside>
  </div>
  <div class="lesson-navigation">
   <th:block th:if="${previousLesson != null}">
    <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.title, ' ', '-'))} }" class="nav-button">← Lecția anterioară</a>
   </th:block> <th:block th:if="${nextLesson != null}">
    <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.title, ' ', '-'))} }" class="nav-button">Lecția următoare →</a>
   </th:block>
  </div>
  <div th:replace="~{fragments/footer :: footer}"></div>
  <script th:src="@{/js/script.js}" defer></script>
 </body>
</html>
