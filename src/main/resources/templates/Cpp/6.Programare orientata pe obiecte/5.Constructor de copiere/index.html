<!doctype html>
<html lang="ro" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4253419731329045"
        crossorigin="anonymous"></script>

    <link rel="canonical" th:href="${canonicalUrl}" />
    <link rel="icon" type="image/png" href="/nume-aplicatie/images/favicon.png">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7Q2536ZKL2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        window.gtag = function () { dataLayer.push(arguments); };
        gtag('consent', 'default', {
            'wait_for_update': 500,
            'region': ['RO'],
            'ad_storage': 'denied',
            'analytics_storage': 'denied',
            'ad_user_data': 'denied',
            'ad_personalization': 'denied'
        });
        gtag('js', new Date());
        gtag('config', 'G-7Q2536ZKL2');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${lesson.title}">Lesson</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <style>
        body {
            background: #ffffff;
        }
    </style>
</head>

<body th:with="activeTopic='C-sharp', activeChapter='10.Colectii', activeLesson='1.Lista List_T_'">
    <button class="mobile-sidebar-toggle" onclick="toggleMobileSidebar()">☰</button>
    <div th:replace="~{fragments/nav :: nav}"></div>
    <div class="top-nav">
        <th:block th:each="topic : ${topics}">
            <a th:href="@{'/lectii/topic/' + ${topic.id}}" th:text="${topic.name}"
                th:classappend="${topic.id} == ${activeTopicId} ? 'active' : ''"> </a>
        </th:block>
    </div>
    <div class="layout">
        <div class="mobile-sidebar" id="mobileSidebar">
            <button class="close-btn" onclick="toggleSidebar()">✖</button>
            <ul class="chapter-list">
                <th:block th:each="chapter : ${chapters}">
                    <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
                        <div class="chapter-title" onclick="toggleChapter(this)">
                            <strong th:text="${chapter.title}"></strong> <span class="arrow">▼</span>
                        </div>
                        <ul class="lesson-list">
                            <th:block th:each="lesson : ${chapter.lessons}">
                                <li><a th:href="@{'/lectii/' +
${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}"
                                        th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
                            </th:block>
                        </ul>
                    </li>
                </th:block>
            </ul>
        </div>
        <aside class="sidebar">
            <ul class="sidebar-list">
                <th:block th:each="chapter : ${chapters}">
                    <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
                        <div class="chapter-toggle" onclick="toggleLessons(this)">
                            <span th:text="${chapter.title}">Chapter</span>
                        </div>
                        <ul class="lesson-list hidden">
                            <th:block th:each="lesson : ${chapter.lessons}">
                                <li><a th:href="@{'/lectii/' +
${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}"
                                        th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
                            </th:block>
                        </ul>
                    </li>
                </th:block>
            </ul>
        </aside>
        <main class="content">
            <div class="document-container">

<h1 class="main-title">Constructorul de copiere</h1>
<p class="paragraph">În mod implicit, la compilarea claselor, compilatorul generează automat un constructor special – constructorul de copiere, care permite crearea unui obiect pe baza altui obiect (practic, îl copiază). Constructorul de copiere implicit copiază valorile câmpurilor obiectului într-un nou obiect. Să analizăm un exemplu simplu:</p>
<div class="code-inline"><pre><code>#include&nbsp;&lt;iostream&gt;<br>&nbsp;<br>class&nbsp;Person&nbsp;<br>{<br>private:<br>&nbsp;&nbsp;&nbsp;&nbsp;std::string&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;age;<br>public:<br>&nbsp;&nbsp;&nbsp;&nbsp;Person(std::string&nbsp;p_name,&nbsp;unsigned&nbsp;p_age)<br>&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;=&nbsp;p_name;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;age&nbsp;=&nbsp;p_age;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;print()&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;&quot;Name:&nbsp;&quot;&nbsp;&lt;&lt;&nbsp;name&nbsp;&lt;&lt;&nbsp;&quot;\tAge:&nbsp;&quot;&nbsp;&lt;&lt;&nbsp;age&nbsp;&lt;&lt;&nbsp;std::endl;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>};<br>int&nbsp;main()<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;Person&nbsp;tom{&quot;Tom&quot;,&nbsp;38};<br>&nbsp;&nbsp;&nbsp;&nbsp;Person&nbsp;tomas{tom};&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;creăm&nbsp;obiectul&nbsp;tomas&nbsp;pe&nbsp;baza&nbsp;obiectului&nbsp;tom<br>&nbsp;&nbsp;&nbsp;&nbsp;tomas.print();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Name:&nbsp;Tom&nbsp;&nbsp;&nbsp;Age:&nbsp;38<br>}</code></pre></div>
<p class="paragraph">În acest caz, linia:</p>
<div class="code-inline"><pre><code>Person&nbsp;tomas{tom};</code></pre></div>
<p class="paragraph">reprezintă apelul constructorului de copiere. Deși nu definim nicăieri în cod un constructor care să primească un alt obiect Person, un astfel de constructor este generat automat de compilator. În rezultat, obiectul tomas va avea aceleași valori ca și obiectul tom.</p>
<p class="paragraph">Constructorul de copiere este foarte util atunci când dorim să creăm un obiect pe baza altuia, însă are și dezavantajele sale. De exemplu, dacă un câmp reprezintă un pointer, atunci se copiază adresa. În acest caz, câmpurile ambelor obiecte vor indica aceeași adresă în memorie. Prin urmare, dacă dorim să modificăm valoarea unui obiect, aceasta se va modifica și pentru celălalt. În asemenea situații, putem defini propriul nostru constructor de copiere.</p>
<h2 class="subtitle">Crearea unui constructor de copiere</h2>
<p class="paragraph">Constructorul de copiere trebuie să primească ca parametru un obiect al aceleiași clase. Este recomandat ca parametrul să fie transmis prin referință, deoarece la transmiterea prin valoare, compilatorul va crea o copie a obiectului, iar pentru a crea copia se va apela constructorul de copiere, ceea ce va duce la recursivitate infinită. Așadar, să definim propriul constructor de copiere:</p>
<div class="code-inline"><pre><code>#include&nbsp;&lt;iostream&gt;<br>&nbsp;<br>class&nbsp;Person&nbsp;<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;std::string&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;age;<br>public:<br>&nbsp;&nbsp;&nbsp;&nbsp;Person(std::string&nbsp;p_name,&nbsp;unsigned&nbsp;p_age)<br>&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;=&nbsp;p_name;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;age&nbsp;=&nbsp;p_age;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;Person(const&nbsp;Person&nbsp;&amp;p)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;=&nbsp;p.name;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;age&nbsp;=&nbsp;p.age&nbsp;+&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;doar&nbsp;ca&nbsp;exemplu<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;print()&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;&quot;Name:&nbsp;&quot;&nbsp;&lt;&lt;&nbsp;name&nbsp;&lt;&lt;&nbsp;&quot;\tAge:&nbsp;&quot;&nbsp;&lt;&lt;&nbsp;age&nbsp;&lt;&lt;&nbsp;std::endl;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>};<br>int&nbsp;main()<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;Person&nbsp;tom{&quot;Tom&quot;,&nbsp;38};<br>&nbsp;&nbsp;&nbsp;&nbsp;Person&nbsp;tomas{tom};&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;creăm&nbsp;obiectul&nbsp;tomas&nbsp;pe&nbsp;baza&nbsp;obiectului&nbsp;tom<br>&nbsp;&nbsp;&nbsp;&nbsp;tomas.print();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Name:&nbsp;Tom&nbsp;&nbsp;&nbsp;Age:&nbsp;39<br>}</code></pre></div>
<p class="paragraph">Aici, constructorul de copiere primește o referință constantă către un obiect Person și copiază valorile câmpurilor acestuia în câmpurile obiectului curent. Ca exemplu, pentru a arăta o diferență, am adăugat 1 la proprietatea age. Astfel, în locul constructorului de copiere implicit, este utilizat constructorul personalizat.</p>
<h2 class="subtitle">Ștergerea constructorului de copiere</h2>
<p class="paragraph">Constructorul de copiere nu este întotdeauna necesar. Și poate fi șters cu ajutorul operatorului delete:</p>
<div class="code-inline"><pre><code>#include&nbsp;&lt;iostream&gt;<br>&nbsp;<br>class&nbsp;Person&nbsp;<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;std::string&nbsp;name;<br>&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;age;<br>public:<br>&nbsp;&nbsp;&nbsp;&nbsp;Person(std::string&nbsp;p_name,&nbsp;unsigned&nbsp;p_age)<br>&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;=&nbsp;p_name;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;age&nbsp;=&nbsp;p_age;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;Person(const&nbsp;Person&nbsp;&amp;p)&nbsp;=&nbsp;delete;&nbsp;&nbsp;&nbsp;//&nbsp;ștergem&nbsp;constructorul<br>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;print()&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;&quot;Name:&nbsp;&quot;&nbsp;&lt;&lt;&nbsp;name&nbsp;&lt;&lt;&nbsp;&quot;\tAge:&nbsp;&quot;&nbsp;&lt;&lt;&nbsp;age&nbsp;&lt;&lt;&nbsp;std::endl;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>};<br>int&nbsp;main()<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;Person&nbsp;tom{&quot;Tom&quot;,&nbsp;38};<br>&nbsp;&nbsp;&nbsp;&nbsp;//Person&nbsp;tomas{tom};&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;constructorul&nbsp;de&nbsp;copiere&nbsp;nu&nbsp;este&nbsp;disponibil<br>}</code></pre></div>
            </div>
        </main>
        <aside class="ad-section">
            <div class="ad-box">
                <p>Google Ad Here</p>
            </div>
            <div class="ad-box">
                <p>Promo: SQL Beginner Guide</p>
            </div>
        </aside>
    </div>
    <div class="lesson-navigation">
        <th:block th:if="${previousLesson != null}">
            <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.title, ' ', '-'))} }" class="nav-button">← Lecția
                anterioară</a>
        </th:block>
        <th:block th:if="${nextLesson != null}">
            <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.title, ' ', '-'))} }" class="nav-button">Lecția
                următoare →</a>
        </th:block>
    </div>
    <div th:replace="~{fragments/footer :: footer}"></div>
    <script th:src="@{/js/script.js}" defer></script>
</body>
</html>
