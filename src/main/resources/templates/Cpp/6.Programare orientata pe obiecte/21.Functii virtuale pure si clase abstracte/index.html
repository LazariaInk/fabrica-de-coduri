<!doctype html>
<html lang="ro" xmlns:th="http://www.w3.org/1999/xhtml">
 <head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4253419731329045" crossorigin="anonymous"></script>
  <link rel="canonical" th:href="${canonicalUrl}">
  <link rel="icon" type="image/png" href="/nume-aplicatie/images/favicon.png">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7Q2536ZKL2"></script>
  <script>
        window.dataLayer = window.dataLayer || [];
        window.gtag = function () { dataLayer.push(arguments); };
        gtag('consent', 'default', {
            'wait_for_update': 500,
            'region': ['RO'],
            'ad_storage': 'denied',
            'analytics_storage': 'denied',
            'ad_user_data': 'denied',
            'ad_personalization': 'denied'
        });
        gtag('js', new Date());
        gtag('config', 'G-7Q2536ZKL2');
    </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:text="${lesson.title}">Lesson</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}">
  <style>
        body {
            background: #ffffff;
        }
    </style>
 </head>
 <body th:with="activeTopic='C-sharp', activeChapter='10.Colectii', activeLesson='1.Lista List_T_'">
  <button class="mobile-sidebar-toggle" onclick="toggleMobileSidebar()">☰</button>
  <div th:replace="~{fragments/nav :: nav}"></div>
  <div class="top-nav">
   <th:block th:each="topic : ${topics}"> <a th:href="@{'/lectii/topic/' + ${topic.id}}" th:text="${topic.name}" th:classappend="${topic.id} == ${activeTopicId} ? 'active' : ''"> </a> </th:block>
  </div>
  <div class="layout">
   <div class="mobile-sidebar" id="mobileSidebar">
    <button class="close-btn" onclick="toggleSidebar()">✖</button>
    <ul class="chapter-list">
     <th:block th:each="chapter : ${chapters}">
      <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
       <div class="chapter-title" onclick="toggleChapter(this)">
        <strong th:text="${chapter.title}"></strong> <span class="arrow">▼</span>
       </div>
       <ul class="lesson-list">
        <th:block th:each="lesson : ${chapter.lessons}">
         <li><a th:href="@{'/lectii/' +
${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}" th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
        </th:block>
       </ul>
      </li>
     </th:block>
    </ul>
   </div>
   <aside class="sidebar">
    <ul class="sidebar-list">
     <th:block th:each="chapter : ${chapters}">
      <li class="chapter-item" th:classappend="${chapter.id} == ${activeChapterId} ? 'open' : ''">
       <div class="chapter-toggle" onclick="toggleLessons(this)">
        <span th:text="${chapter.title}">Chapter</span>
       </div>
       <ul class="lesson-list hidden">
        <th:block th:each="lesson : ${chapter.lessons}">
         <li><a th:href="@{'/lectii/' +
${#strings.toLowerCase(#strings.replace(chapter.topic.name, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(chapter.title, ' ', '-'))} + '/' +
${#strings.toLowerCase(#strings.replace(lesson.title, ' ', '-'))} }" th:text="${lesson.title}" th:classappend="${lesson.id} == ${activeLessonId} ? 'active' : ''"> </a></li>
        </th:block>
       </ul>
      </li>
     </th:block>
    </ul>
   </aside>
   <main class="content">
    <div class="document-container">
     <h1 class="main-title">Funcții virtuale pure și clase abstracte</h1>
     <p class="paragraph">Uneori este necesar să definim o clasă care nu presupune crearea de obiecte concrete. De exemplu, o clasă pentru o figură geometrică. În realitate, există figuri concrete: pătrat, dreptunghi, triunghi, cerc și așa mai departe. Însă o figură abstractă în sine nu există. Totodată, putem avea nevoie să definim o clasă comună pentru toate figurile, care să conțină funcționalitate generală. Pentru a descrie astfel de concepte se folosesc clasele abstracte.</p>
     <p class="paragraph">Clasele abstracte sunt clase care conțin sau moștenesc (fără a suprascrie) cel puțin o funcție virtuală pură. O clasă abstractă definește o interfață care trebuie implementată de clasele derivate.</p>
     <p class="paragraph">Ce sunt funcțiile virtuale pure (pure virtual functions)? Sunt funcții care nu au o implementare. Scopul lor este de a defini doar semnătura funcționalității, lăsând implementarea în seama claselor derivate. Pentru a marca o funcție ca fiind pur virtuală, declarația sa se încheie cu = 0. De exemplu, să definim o clasă abstractă care reprezintă o figură geometrică:</p>
     <div class="code-inline">
      <pre><code>class&nbsp;Shape<br>{<br>public:<br>&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;double&nbsp;getSquare()&nbsp;const&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;aria&nbsp;figurii<br>&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;double&nbsp;getPerimeter()&nbsp;const&nbsp;=&nbsp;0;&nbsp;&nbsp;//&nbsp;perimetrul&nbsp;figurii<br>};</code></pre>
     </div>
     <p class="paragraph">Clasa Shape este abstractă deoarece conține cel puțin o funcție virtuală pură. În acest caz, chiar două – pentru calculul ariei și al perimetrului. Nicio funcție nu are implementare. Ele sunt marcate drept constante, dar nu este obligatoriu. Esențial este ca orice clasă derivată din Shape trebuie să ofere o implementare pentru aceste funcții.</p>
     <p class="paragraph">În același timp, nu putem crea un obiect al clasei abstracte:</p>
     <script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
     <div class="code-inline">
      <pre><code>Shape&nbsp;shape{};&nbsp;&nbsp;//&nbsp;eroare</code></pre>
     </div>
     <p class="paragraph">Pentru a utiliza o clasă abstractă, definim următorul program:</p>
     <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-4253419731329045" data-ad-slot="8453761934"></ins>
     <script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
     <div class="code-inline">
      <pre><code>#include&nbsp;&lt;iostream&gt;<br><br>class&nbsp;Shape<br>{<br>public:<br>&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;double&nbsp;getSquare()&nbsp;const&nbsp;=&nbsp;0;<br>&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;double&nbsp;getPerimeter()&nbsp;const&nbsp;=&nbsp;0;<br>};<br><br>class&nbsp;Rectangle&nbsp;:&nbsp;public&nbsp;Shape<br>{<br>public:<br>&nbsp;&nbsp;&nbsp;&nbsp;Rectangle(double&nbsp;w,&nbsp;double&nbsp;h)&nbsp;:&nbsp;width(w),&nbsp;height(h)&nbsp;{&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;getSquare()&nbsp;const&nbsp;override<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;width&nbsp;*&nbsp;height;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;getPerimeter()&nbsp;const&nbsp;override<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;width&nbsp;*&nbsp;2&nbsp;+&nbsp;height&nbsp;*&nbsp;2;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>private:<br>&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;width;<br>&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;height;<br>};<br><br>class&nbsp;Circle&nbsp;:&nbsp;public&nbsp;Shape<br>{<br>public:<br>&nbsp;&nbsp;&nbsp;&nbsp;Circle(double&nbsp;r)&nbsp;:&nbsp;radius(r)&nbsp;{&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;getSquare()&nbsp;const&nbsp;override<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;radius&nbsp;*&nbsp;radius&nbsp;*&nbsp;3.14;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;getPerimeter()&nbsp;const&nbsp;override<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;2&nbsp;*&nbsp;3.14&nbsp;*&nbsp;radius;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>private:<br>&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;radius;<br>};<br><br>int&nbsp;main()<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;Rectangle&nbsp;rect{30,&nbsp;50};<br>&nbsp;&nbsp;&nbsp;&nbsp;Circle&nbsp;circle{30};<br><br>&nbsp;&nbsp;&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;"Rectangle&nbsp;square:&nbsp;"&nbsp;&lt;&lt;&nbsp;rect.getSquare()&nbsp;&lt;&lt;&nbsp;std::endl;<br>&nbsp;&nbsp;&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;"Rectangle&nbsp;perimeter:&nbsp;"&nbsp;&lt;&lt;&nbsp;rect.getPerimeter()&nbsp;&lt;&lt;&nbsp;std::endl;<br>&nbsp;&nbsp;&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;"Circle&nbsp;square:&nbsp;"&nbsp;&lt;&lt;&nbsp;circle.getSquare()&nbsp;&lt;&lt;&nbsp;std::endl;<br>&nbsp;&nbsp;&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;"Circle&nbsp;perimeter:&nbsp;"&nbsp;&lt;&lt;&nbsp;circle.getPerimeter()&nbsp;&lt;&lt;&nbsp;std::endl;<br>}</code></pre>
     </div>
     <p class="paragraph">Aici sunt definite două clase derivate din clasa abstractă Shape – Rectangle și Circle. La crearea acestor clase, toate trebuie fie să implementeze funcțiile virtuale pure, fie să le redeclare ca fiind pure. În cel de-al doilea caz, clasele derivate rămân și ele abstracte.</p>
     <p class="paragraph">În exemplul de mai sus, atât Circle, cât și Rectangle sunt clase concrete și oferă implementări complete.</p>
     <p class="paragraph">Ieșirea în consolă:</p>
     <div class="code-inline">
      <pre><code>Rectangle&nbsp;square:&nbsp;1500&nbsp;&nbsp;<br>Rectangle&nbsp;perimeter:&nbsp;160&nbsp;&nbsp;<br>Circle&nbsp;square:&nbsp;2826&nbsp;&nbsp;<br>Circle&nbsp;perimeter:&nbsp;188.4</code></pre>
     </div>
     <p class="paragraph">Este important de menționat că o clasă abstractă poate avea funcții normale și variabile membre, poate avea mai mulți constructori, dar nu se pot crea instanțe ale acelei clase. De exemplu:</p>
     <div class="code-inline">
      <pre><code>#include&nbsp;&lt;iostream&gt;<br><br>class&nbsp;Shape<br>{<br>public:<br>&nbsp;&nbsp;&nbsp;&nbsp;Shape(int&nbsp;x,&nbsp;int&nbsp;y):&nbsp;x{x},&nbsp;y{y}&nbsp;{&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;double&nbsp;getSquare()&nbsp;const&nbsp;=&nbsp;0;<br>&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;double&nbsp;getPerimeter()&nbsp;const&nbsp;=&nbsp;0;<br>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;printCoords()&nbsp;const<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;"X:&nbsp;"&nbsp;&lt;&lt;&nbsp;x&nbsp;&lt;&lt;&nbsp;"\tY:&nbsp;"&nbsp;&lt;&lt;&nbsp;y&nbsp;&lt;&lt;&nbsp;std::endl;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>private:<br>&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;x;<br>&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;y;<br>};<br><br>class&nbsp;Rectangle&nbsp;:&nbsp;public&nbsp;Shape<br>{<br>public:<br>&nbsp;&nbsp;&nbsp;&nbsp;Rectangle(int&nbsp;x,&nbsp;int&nbsp;y,&nbsp;double&nbsp;w,&nbsp;double&nbsp;h)&nbsp;:&nbsp;Shape{x,&nbsp;y},&nbsp;width(w),&nbsp;height(h)&nbsp;{&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;getSquare()&nbsp;const&nbsp;override<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;width&nbsp;*&nbsp;height;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;getPerimeter()&nbsp;const&nbsp;override<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;width&nbsp;*&nbsp;2&nbsp;+&nbsp;height&nbsp;*&nbsp;2;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>private:<br>&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;width;<br>&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;height;<br>};<br><br>class&nbsp;Circle&nbsp;:&nbsp;public&nbsp;Shape<br>{<br>public:<br>&nbsp;&nbsp;&nbsp;&nbsp;Circle(int&nbsp;x,&nbsp;int&nbsp;y,&nbsp;double&nbsp;r)&nbsp;:&nbsp;Shape{x,&nbsp;y},&nbsp;radius(r)&nbsp;{&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;getSquare()&nbsp;const&nbsp;override<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;radius&nbsp;*&nbsp;radius&nbsp;*&nbsp;3.14;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;getPerimeter()&nbsp;const&nbsp;override<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;2&nbsp;*&nbsp;3.14&nbsp;*&nbsp;radius;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>private:<br>&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;radius;<br>};<br><br>int&nbsp;main()<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;Rectangle&nbsp;rect{0,&nbsp;0,&nbsp;30,&nbsp;50};<br>&nbsp;&nbsp;&nbsp;&nbsp;rect.printCoords();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;X:&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;Y:&nbsp;0<br><br>&nbsp;&nbsp;&nbsp;&nbsp;Circle&nbsp;circle{10,&nbsp;20,&nbsp;30};<br>&nbsp;&nbsp;&nbsp;&nbsp;circle.printCoords();&nbsp;&nbsp;&nbsp;//&nbsp;X:&nbsp;10&nbsp;&nbsp;&nbsp;Y:&nbsp;20<br>}</code></pre>
     </div>
     <p class="paragraph">În acest caz, clasa Shape are două variabile, un constructor care le inițializează și o funcție obișnuită care le afișează. În clasele derivate trebuie apelat constructorul clasei de bază. Totuși, obiectul clasei abstracte nu poate fi creat, chiar dacă aceasta are constructor.</p>
    </div>
    <div class="lesson-navigation">
     <th:block th:if="${previousLesson != null}"> <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(previousLesson.title, ' ', '-'))} }" class="nav-button">← Lecția anterioară</a> </th:block> <th:block th:if="${nextLesson != null}"> <a th:href="@{'/lectii/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.topic.name, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.chapter.title, ' ', '-'))} + '/' +
            ${#strings.toLowerCase(#strings.replace(nextLesson.title, ' ', '-'))} }" class="nav-button">Lecția următoare →</a> </th:block>
    </div>
    <div class="discord-banner-section">
     <div class="discord-banner-container">
      <a href="https://discord.com/channels/1168639076098920578/1168646757551443979" target="_blank"> <img th:src="@{/images/cpp_discord.png}" alt="Discord Banner" class="discord-banner-image"> </a>
     </div>
    </div>
   </main>
   <aside class="ad-section">
    <div class="ad-box ad-desktop">
     <ins class="adsbygoogle" style="display:inline-block;width:120px;height:728px" data-ad-client="ca-pub-4253419731329045" data-ad-slot="7123454389"></ins>
    </div>
    <div class="ad-box ad-mobile">
     <ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-4253419731329045" data-ad-slot="7123454389"></ins>
    </div>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
   </aside>
  </div>
  <div th:replace="~{fragments/footer :: footer}"></div>
  <script th:src="@{/js/script.js}" defer></script>
 </body>
</html>